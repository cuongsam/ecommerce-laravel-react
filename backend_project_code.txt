================================================================================
ğŸš€ CODE Dá»° ÃN LARAVEL - CANDLE APP (FILTERED)
================================================================================



============================================================
ğŸ“ app\Http\Controllers\Admin
============================================================



----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Admin\AuthController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Admin;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;


class AuthController extends Controller
{
    // Hiá»ƒn thá»‹ trang login
    public function showLoginForm()
    {
        // Náº¿u Ä‘Ã£ login rá»“i thÃ¬ redirect vá» dashboard
        if (Auth::check()) {
            /** @var \App\Models\User $user */
            $user = Auth::user();
            if ($user->isAdmin()) {
                return redirect()->route('admin.dashboard');
            }
        }
        
        return view('admin.auth.login');
    }

    // Xá»­ lÃ½ login
    public function login(Request $request)
    {
        $request->validate([
            'email' => 'required|email',
            'password' => 'required',
        ], [
            'email.required' => 'Vui lÃ²ng nháº­p email',
            'email.email' => 'Email khÃ´ng há»£p lá»‡',
            'password.required' => 'Vui lÃ²ng nháº­p máº­t kháº©u',
        ]);

        $credentials = $request->only('email', 'password');
        $remember = $request->filled('remember');

        if (Auth::attempt($credentials, $remember)) {
            /** @var \App\Models\User $user */
            $user = Auth::user();

            // Kiá»ƒm tra cÃ³ pháº£i admin khÃ´ng
            if (!$user->isAdmin()) {
                Auth::logout();
                return back()->withErrors([
                    'email' => 'Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang quáº£n trá»‹.',
                ])->withInput();
            }

            // Kiá»ƒm tra tÃ i khoáº£n cÃ³ bá»‹ khÃ³a khÃ´ng
            if (!$user->is_active) {
                Auth::logout();
                return back()->withErrors([
                    'email' => 'TÃ i khoáº£n cá»§a báº¡n Ä‘Ã£ bá»‹ khÃ³a.',
                ])->withInput();
            }

            // Update last login
            $user->update(['last_login_at' => now()]);

            $request->session()->regenerate();

            return redirect()->intended(route('admin.dashboard'))
                ->with('success', 'ÄÄƒng nháº­p thÃ nh cÃ´ng!');
        }

        return back()->withErrors([
            'email' => 'Email hoáº·c máº­t kháº©u khÃ´ng Ä‘Ãºng.',
        ])->withInput();
    }

    // Logout
    public function logout(Request $request)
    {
        Auth::logout();

        $request->session()->invalidate();
        $request->session()->regenerateToken();

        return redirect()->route('admin.login')
            ->with('success', 'ÄÃ£ Ä‘Äƒng xuáº¥t thÃ nh cÃ´ng!');
    }
}

----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Admin\CategoryController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Admin;

use App\Http\Controllers\Controller;
use App\Models\Category;
use Illuminate\Http\Request;
use Illuminate\Support\Str;
use Intervention\Image\ImageManager;
use Intervention\Image\Drivers\Gd\Driver;
class CategoryController extends Controller
{
    public function index(Request $request)
    {
        $query = Category::query();
        
        // Search
        if ($request->filled('search')) {
            $query->where('name', 'like', '%' . $request->search . '%');
        }
        
        // Filter by status
        if ($request->filled('status')) {
            $query->where('status', $request->status);
        }
        
        $categories = $query->latest()->paginate(10);
        
        return view('admin.categories.index', compact('categories'));
    }

    public function create()
    {
        return view('admin.categories.create');
    }

    public function store(Request $request)
    {
        $validated = $request->validate([
            'name' => 'required|string|max:255|unique:categories,name',
            'slug' => 'nullable|string|unique:categories,slug',
            'description' => 'nullable|string',
            'image' => 'nullable|image|mimes:jpeg,png,jpg,gif|max:2048',
            'status' => 'required|boolean',
        ]);

        // Generate slug if not provided
        if (empty($validated['slug'])) {
            $validated['slug'] = Str::slug($validated['name']);
        }

        // Handle image upload
        if ($request->hasFile('image')) {
            $image = $request->file('image');
            $filename = time() . '_category.' . $image->getClientOriginalExtension();
            $path = public_path('storage/categories/' . $filename);
            
            // Create directory if not exists
            if (!file_exists(public_path('storage/categories'))) {
                mkdir(public_path('storage/categories'), 0777, true);
            }

            $imageManager = new ImageManager(new Driver());
            $imageManager->read($image)->scaleDown(400, 400)->save($path);

            $validated['image'] = 'storage/categories/' . $filename;
        }

        Category::create($validated);

        return redirect()->route('admin.categories.index')
            ->with('success', 'Táº¡o danh má»¥c thÃ nh cÃ´ng.');
    }

    public function show(Category $category)
    {
        $category->load('products');
        return view('admin.categories.show', compact('category'));
    }

    public function edit(Category $category)
    {
        return view('admin.categories.edit', compact('category'));
    }

    public function update(Request $request, Category $category)
    {
        $validated = $request->validate([
            'name' => 'required|string|max:255|unique:categories,name,' . $category->id,
            'slug' => 'required|string|unique:categories,slug,' . $category->id,
            'description' => 'nullable|string',
            'image' => 'nullable|image|mimes:jpeg,png,jpg,gif|max:2048',
            'status' => 'required|boolean',
        ]);

        // Handle image upload
        if ($request->hasFile('image')) {
            // Delete old image if exists
            if ($category->image && file_exists(public_path($category->image))) {
                unlink(public_path($category->image));
            }
            
            $image = $request->file('image');
            $filename = time() . '_category.' . $image->getClientOriginalExtension();
            $path = public_path('storage/categories/' . $filename);

            $imageManager = new ImageManager(new Driver());
            $imageManager->read($image)->scaleDown(400, 400)->save($path);

            $validated['image'] = 'storage/categories/' . $filename;
        }

        $category->update($validated);

        return redirect()->route('admin.categories.index')
            ->with('success', 'Cáº­p nháº­t danh má»¥c thÃ nh cÃ´ng.');
    }

    public function destroy(Category $category)
    {
        // Check if category has products
        if ($category->products()->count() > 0) {
            return redirect()->back()
                ->with('error', 'KhÃ´ng thá»ƒ xÃ³a danh má»¥c nÃ y vÃ¬ nÃ³ cÃ³ sáº£n pháº©m liÃªn káº¿t.');
        }

        // Delete image if exists
        if ($category->image && file_exists(public_path($category->image))) {
            unlink(public_path($category->image));
        }

        $category->delete();

        return redirect()->route('admin.categories.index')
            ->with('success', 'XÃ³a danh má»¥c thÃ nh cÃ´ng.');
    }
}

----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Admin\DashboardController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Admin;

use App\Http\Controllers\Controller;
use App\Models\User;
use Illuminate\Http\Request;
use App\Models\Order;
use App\Models\Review;
use App\Models\Product;
use App\Models\Category;
use Illuminate\Support\Facades\DB;
use Carbon\Carbon;

class DashboardController extends Controller
{
    public function index()
    {
        $stats = [
            'total_users' => User::count(),
            'active_users' => User::where('is_active', true)->count(),
            'admin_users' => User::where('role', 'admin')->count(),
            'new_users_today' => User::whereDate('created_at', today())->count(),
        ];
        $recent_users = User::latest()->take(5)->get();

        $totalOrders = Order::count();
        $totalRevenue = Order::where('status', 'delivered')->sum('total_amount');
        $pendingReviews = Review::where('status', 'pending')->count();
        $totalProducts = Product::count();
        $totalCategories = Category::count();
        
        // Recent orders
        $recentOrders = Order::with('user')
            ->latest()
            ->take(5)
            ->get();
            
        // Top selling products
        $topProducts = Product::withCount(['orderItems as total_sold' => function($query) {
            $query->select(DB::raw('COALESCE(SUM(quantity), 0)'));
        }])
        ->orderByDesc('total_sold')
        ->take(5)
        ->get();

        // Monthly revenue data for chart
        $monthlyRevenue = Order::where('status', 'delivered')
            ->whereYear('created_at', date('Y'))
            ->select(
                DB::raw('MONTH(created_at) as month'),
                DB::raw('SUM(total_amount) as revenue')
            )
            ->groupBy('month')
            ->orderBy('month')
            ->get();

        // Prepare chart data
        $chartLabels = [];
        $chartData = [];
        
        for ($month = 1; $month <= 12; $month++) {
            $chartLabels[] = Carbon::createFromFormat('!m', $month)->format('F');
            $revenue = $monthlyRevenue->firstWhere('month', $month);
            $chartData[] = $revenue ? $revenue->revenue : 0;
        }


        return view('admin.dashboard', compact(
            'stats', 
            'recent_users',
            'totalOrders',
            'totalRevenue', 
            'pendingReviews',
            'totalProducts',
            'totalCategories',
            'recentOrders',
            'topProducts',
            'chartLabels',
            'chartData'
        ));
    }

    


}


----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Admin\OrderController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Admin;

use App\Models\Order;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
class OrderController extends Controller
{
    public function index(Request $request)
    {
        $query = Order::with('user');

        if ($request->filled('search')) {
            $query->where('order_code', 'like', '%' . $request->search . '%')
                  ->orWhere('shipping_name', 'like', '%' . $request->search . '%');
        }

        if ($request->filled('status')) {
            $query->where('status', $request->status);
        }

        $orders = $query->paginate(10);

        return view('admin.orders.index', compact('orders'));
    }

    public function show(Order $order)
    {
        $order->load('items.product', 'user');
        return view('admin.orders.show', compact('order'));
    }

    public function update(Request $request, Order $order)
    {
        $validated = $request->validate([
            'status' => 'required|in:pending,confirmed,shipping,delivered,cancelled',
        ]);

        $order->update($validated);

        return redirect()->route('admin.orders.index')->with('success', 'Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng thÃ nh cÃ´ng.');
    }
}

----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Admin\ProductController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Admin;

use App\Http\Controllers\Controller;
use App\Models\Product;
use App\Models\Category;
use App\Models\ProductImage;
use Illuminate\Http\Request;
use Illuminate\Support\Str;
use Intervention\Image\ImageManager;
use Intervention\Image\Drivers\Gd\Driver;
use Illuminate\Support\Facades\Log;


class ProductController extends Controller
{
    public function index(Request $request)
    {
        $query = Product::with('category', 'images');

        // Search
        if ($request->filled('search')) {
            $query->where(function ($q) use ($request) {
                $q->where('name', 'like', '%' . $request->search . '%')
                    ->orWhere('sku', 'like', '%' . $request->search . '%')
                    ->orWhere('description', 'like', '%' . $request->search . '%');
            });
        }

        // Filters
        if ($request->filled('category_id')) {
            $query->where('category_id', $request->category_id);
        }

        if ($request->filled('status')) {
            $query->where('is_active', $request->status);
        }

        if ($request->filled('featured')) {
            $query->where('featured', $request->featured);
        }

        if ($request->filled('stock')) {
            if ($request->stock == 'low') {
                $query->where('in_stock', '<', 10);
            } elseif ($request->stock == 'out') {
                $query->where('in_stock', 0);
            }
        }

        $products = $query->latest()->paginate(12);
        $categories = Category::where('status', true)->get();

        return view('admin.products.index', compact('products', 'categories'));
    }

    public function create()
    {
        $categories = Category::where('status', true)->get();
        return view('admin.products.create', compact('categories'));
    }



    public function store(Request $request)
    {
        $validated = $request->validate([
            'name' => 'required|string|max:255',
            'slug' => 'nullable|string|unique:products,slug',
            'description' => 'nullable|string',
            'price' => 'required|numeric|min:0',
        'sale_price' => 'nullable|numeric|min:0|lt:price',
        'sku' => 'required|string|unique:products,sku',
        'category_id' => 'required|exists:categories,id',
        'material' => 'nullable|string|max:255',
        'fragrance' => 'nullable|string|max:255',
        'in_stock' => 'required|integer|min:0',
        'weight' => 'nullable|numeric|min:0',
        'is_active' => 'boolean',
        'featured' => 'boolean',
        'images.*' => 'image|mimes:jpeg,png,jpg,gif,webp|max:5120', // TÄƒng kÃ­ch thÆ°á»›c lÃªn 5MB
    ]);

    if (empty($validated['slug'])) {
        $validated['slug'] = Str::slug($validated['name']);
    }

    $product = Product::create($validated);


   
      if ($request->hasFile('images')) {
        Log::info('Total images received: ' . count($request->file('images')));  // NÃªn log 4

        foreach ($request->file('images') as $index => $image) {
            Log::info("Processing image $index: " . $image->getClientOriginalName());

            try {
                $filename = time() . '_product_' . $index . '.' . $image->getClientOriginalExtension();
                $path = public_path('storage/products/' . $filename);

                if (!file_exists(public_path('storage/products'))) {
                    mkdir(public_path('storage/products'), 0777, true);
                    Log::info('Created directory: storage/products');
                }

                $manager = new ImageManager(new Driver());
                $manager->read($image)->scaleDown(400, 400)->save($path);

                Log::info("Saved image $index to: $path");

                ProductImage::create([
                    'product_id' => $product->id,
                    'image_path' => 'storage/products/' . $filename,
                    'is_primary' => $index === 0,
                    'alt_text' => $validated['name'] . ' image ' . ($index + 1),
                    'created_at' => now(),
                ]);

                Log::info("Inserted DB for image $index");
            } catch (\Exception $e) {
                Log::error("Error processing image $index: " . $e->getMessage());
            }
        }
    }

    return redirect()->route('admin.products.index')->with('success', 'Táº¡o sáº£n pháº©m thÃ nh cÃ´ng.');
}
    public function show(Product $product)
    {
        $product->load('category', 'images', 'reviews.user');
        return view('admin.products.show', compact('product'));
    }

    public function edit(Product $product)
    {
        $categories = Category::where('status', true)->get();
        $product->load('images');
        return view('admin.products.edit', compact('product', 'categories'));
    }

    public function update(Request $request, Product $product)
    {
        $validated = $request->validate([
            'name' => 'required|string|max:255|unique:products,name,' . $product->id,
            'slug' => 'required|string|unique:products,slug,' . $product->id,
            'description' => 'nullable|string',
            'price' => 'required|numeric|min:0',
            'sale_price' => 'nullable|numeric|min:0|lt:price',
            'sku' => 'required|string|unique:products,sku,' . $product->id,
            'category_id' => 'required|exists:categories,id',
            'material' => 'nullable|string|max:255',
            'fragrance' => 'nullable|string|max:255',
            'in_stock' => 'required|integer|min:0',
            'weight' => 'nullable|numeric|min:0',
            'is_active' => 'boolean',
            'featured' => 'boolean',
           'images.*' => 'image|mimes:jpeg,png,jpg,gif,webp|max:5120',
    ]);


        $product->update($validated);

        // Handle new image uploads
        if ($request->hasFile('images')) {
        foreach ($request->file('images') as $index => $image) {
            $filename = 'product_' . time() . '_' . $index . '_' . uniqid() . '.' . $image->getClientOriginalExtension();
            $path = public_path('storage/products/' . $filename);

            $manager = new ImageManager(new Driver());
            $manager->read($image)
                ->scaleDown(800, 800)
                ->save($path);

            ProductImage::create([
                'product_id' => $product->id,
                'image_path' => 'storage/products/' . $filename,
                'is_primary' => false, // KhÃ´ng Ä‘áº·t áº£nh má»›i lÃ m áº£nh chÃ­nh máº·c Ä‘á»‹nh
                'alt_text' => $validated['name'] . ' image ' . ($index + 1),
            ]);
        }
    }

        // Handle primary image change
        if ($request->filled('primary_image')) {
        ProductImage::where('product_id', $product->id)->update(['is_primary' => false]);
        ProductImage::where('id', $request->primary_image)->update(['is_primary' => true]);
    }

    return redirect()->route('admin.products.index')
        ->with('success', 'Cáº­p nháº­t sáº£n pháº©m thÃ nh cÃ´ng.');
}

    public function destroy(Product $product)
    {
        // Delete product images
        foreach ($product->images as $image) {
            if (file_exists(public_path($image->image_path))) {
                unlink(public_path($image->image_path));
            }
            $image->delete();
        }

        $product->delete();

        return redirect()->route('admin.products.index')
            ->with('success', 'XÃ³a sáº£n pháº©m thÃ nh cÃ´ng.');
    }

   public function uploadTempImage(Request $request)
{
    $request->validate([
        'image' => 'required|image|mimes:jpeg,png,jpg,gif|max:2048'
    ]);

    if ($request->hasFile('image')) {
        $image = $request->file('image');
        $filename = 'temp_' . time() . '.' . $image->getClientOriginalExtension();
        $path = public_path('storage/temp/' . $filename);

        // Táº¡o thÆ° má»¥c náº¿u chÆ°a cÃ³
        if (!file_exists(public_path('storage/temp'))) {
            mkdir(public_path('storage/temp'), 0777, true);
        }

        // âœ… Sá»­ dá»¥ng driver Ä‘Ãºng kiá»ƒu (v3.x)
        $imageManager = new ImageManager(new Driver());
        $imageManager->read($image)->scaleDown(400, 400)->save($path);

        return response()->json([
            'success' => true,
            'location' => asset('storage/temp/' . $filename)
        ]);
    }

    return response()->json(['success' => false], 400);
}

    public function deleteImage(ProductImage $image)
    {
        if (file_exists(public_path($image->image_path))) {
            unlink(public_path($image->image_path));
        }

        $image->delete();

        return response()->json(['success' => true]);
    }
}


----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Admin\ProfileController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Admin;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Hash;
use Illuminate\Validation\Rules\Password;
use Illuminate\Support\Facades\Storage;

class ProfileController extends Controller
{
    /**
     * Hiá»ƒn thá»‹ form chá»‰nh sá»­a profile
     */
    public function edit()
    {
        /** @var \App\Models\User $user */
        $user = Auth::user();
        
        return view('admin.profile.edit', compact('user'));
    }

    /**
     * Cáº­p nháº­t thÃ´ng tin profile
     */
    public function update(Request $request)
    {
        /** @var \App\Models\User $user */
        $user = Auth::user();

        $validated = $request->validate([
            'name' => 'required|string|max:255',
            'email' => 'required|string|email|max:255|unique:users,email,' . $user->id,
            'phone' => 'nullable|string|max:20',
            'address' => 'nullable|string|max:500',
            'avatar' => 'nullable|image|mimes:jpeg,png,jpg,gif|max:2048',
        ]);

        // Handle avatar upload
        if ($request->hasFile('avatar')) {
            // Delete old avatar if exists
            if ($user->avatar && Storage::disk('public')->exists($user->avatar)) {
                Storage::disk('public')->delete($user->avatar);
            }

            $avatarPath = $request->file('avatar')->store('avatars', 'public');
            $validated['avatar'] = $avatarPath;
        }

        $user->update($validated);

        return redirect()->route('admin.profile.edit')
            ->with('success', 'Cáº­p nháº­t thÃ´ng tin thÃ nh cÃ´ng!');
    }

    /**
     * Äá»•i máº­t kháº©u
     */
    public function updatePassword(Request $request)
    {
        $request->validate([
            'current_password' => 'required',
            'password' => ['required', 'confirmed', Password::min(8)],
        ]);

        /** @var \App\Models\User $user */
        $user = Auth::user();

        // Kiá»ƒm tra máº­t kháº©u hiá»‡n táº¡i
        if (!Hash::check($request->current_password, $user->password)) {
            return back()->withErrors([
                'current_password' => 'Máº­t kháº©u hiá»‡n táº¡i khÃ´ng Ä‘Ãºng.'
            ]);
        }

        $user->update([
            'password' => Hash::make($request->password)
        ]);

        return redirect()->route('admin.profile.edit')
            ->with('success', 'Äá»•i máº­t kháº©u thÃ nh cÃ´ng!');
    }
}


----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Admin\ReviewController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Admin;

use App\Models\Review;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
class ReviewController extends Controller
{
    public function index(Request $request)
    {
        $query = Review::with('product', 'user');

        if ($request->filled('search')) {
            $query->whereHas('product', function ($q) use ($request) {
                $q->where('name', 'like', '%' . $request->search . '%');
            })->orWhereHas('user', function ($q) use ($request) {
                $q->where('email', 'like', '%' . $request->search . '%');
            });
        }

        if ($request->filled('status')) {
            $query->where('status', $request->status);
        }

        $reviews = $query->paginate(10);

        return view('admin.reviews.index', compact('reviews'));
    }

    public function update(Request $request, Review $review)
    {
        $validated = $request->validate([
            'status' => 'required|in:pending,approved',
        ]);

        $review->update($validated);

        return redirect()->route('admin.reviews.index')->with('success', 'Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Ã¡nh giÃ¡ thÃ nh cÃ´ng.');
    }
}

----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Admin\UserController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Admin;

use App\Http\Controllers\Controller;
use App\Models\User;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Hash;
use Illuminate\Validation\Rules\Password;

class UserController extends Controller
{
    // Danh sÃ¡ch users
    public function index(Request $request)
    {
        $query = User::query();

        // TÃ¬m kiáº¿m
        if ($request->filled('search')) {
            $search = $request->search;
            $query->where(function($q) use ($search) {
                $q->where('name', 'like', "%{$search}%")
                  ->orWhere('email', 'like', "%{$search}%")
                  ->orWhere('phone', 'like', "%{$search}%");
            });
        }

        // Lá»c theo role
        if ($request->filled('role')) {
            $query->where('role', $request->role);
        }

        // Lá»c theo tráº¡ng thÃ¡i
        if ($request->filled('status')) {
            $query->where('is_active', $request->status === 'active');
        }

        $users = $query->latest()->paginate(15);

        return view('admin.users.index', compact('users'));
    }

    // Form táº¡o user má»›i
    public function create()
    {
        return view('admin.users.create');
    }

    // LÆ°u user má»›i
    public function store(Request $request)
    {
        $validated = $request->validate([
            'name' => 'required|string|max:255',
            'email' => 'required|string|email|max:255|unique:users',
            'password' => ['required', 'confirmed', Password::min(8)],
            'phone' => 'nullable|string|max:20',
            'address' => 'nullable|string|max:500',
            'role' => 'required|in:admin,user',
            'is_active' => 'boolean',
        ]);

        $validated['password'] = Hash::make($validated['password']);
        $validated['is_active'] = $request->has('is_active');

        User::create($validated);

        return redirect()->route('admin.users.index')
            ->with('success', 'Táº¡o ngÆ°á»i dÃ¹ng thÃ nh cÃ´ng!');
    }

    // Hiá»ƒn thá»‹ chi tiáº¿t user
    public function show(User $user)
    {
        return view('admin.users.show', compact('user'));
    }

    // Form chá»‰nh sá»­a user
    public function edit(User $user)
    {
        return view('admin.users.edit', compact('user'));
    }

    // Cáº­p nháº­t user
    public function update(Request $request, User $user)
    {
        $validated = $request->validate([
            'name' => 'required|string|max:255',
            'email' => 'required|string|email|max:255|unique:users,email,'.$user->id,
            'phone' => 'nullable|string|max:20',
            'address' => 'nullable|string|max:500',
            'role' => 'required|in:admin,user',
            'is_active' => 'boolean',
        ]);

        // Náº¿u cÃ³ Ä‘á»•i máº­t kháº©u
        if ($request->filled('password')) {
            $request->validate([
                'password' => ['required', 'confirmed', Password::min(8)],
            ]);
            $validated['password'] = Hash::make($request->password);
        }

        $validated['is_active'] = $request->has('is_active');

        $user->update($validated);

        return redirect()->route('admin.users.index')
            ->with('success', 'Cáº­p nháº­t ngÆ°á»i dÃ¹ng thÃ nh cÃ´ng!');
    }

    // XÃ³a user
    public function destroy(User $user)
    {
        // KhÃ´ng cho phÃ©p xÃ³a chÃ­nh mÃ¬nh
        if ($user->id === Auth::id()) {
            return back()->with('error', 'Báº¡n khÃ´ng thá»ƒ xÃ³a tÃ i khoáº£n cá»§a chÃ­nh mÃ¬nh!');
        }

        $user->delete();

        return redirect()->route('admin.users.index')
            ->with('success', 'XÃ³a ngÆ°á»i dÃ¹ng thÃ nh cÃ´ng!');
    }

    // Toggle tráº¡ng thÃ¡i active
    public function toggleStatus(User $user)
    {
        // KhÃ´ng cho phÃ©p khÃ³a chÃ­nh mÃ¬nh
        if ($user->id === Auth::id()) {
            return back()->with('error', 'Báº¡n khÃ´ng thá»ƒ khÃ³a tÃ i khoáº£n cá»§a chÃ­nh mÃ¬nh!');
        }

        $user->update(['is_active' => !$user->is_active]);

        $status = $user->is_active ? 'kÃ­ch hoáº¡t' : 'khÃ³a';
        return back()->with('success', "ÄÃ£ {$status} tÃ i khoáº£n thÃ nh cÃ´ng!");
    }
}

============================================================
ğŸ“ app\Http\Controllers\Api
============================================================



----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Api\AuthController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\User;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Facades\Validator;
use Illuminate\Validation\Rules\Password;
use Illuminate\Support\Facades\Storage;

class AuthController extends Controller
{
    // ÄÄƒng kÃ½
    public function register(Request $request)
    {
        $validator = Validator::make($request->all(), [
            'name' => 'required|string|max:255',
            'email' => 'required|string|email|max:255|unique:users',
            'password' => ['required', 'confirmed', Password::min(8)],
            'phone' => 'nullable|string|max:20',
        ]);

        if ($validator->fails()) {
            return response()->json([
                'success' => false,
                'message' => 'Validation error',
                'errors' => $validator->errors()
            ], 422);
        }

        $user = User::create([
            'name' => $request->name,
            'email' => $request->email,
            'password' => Hash::make($request->password),
            'phone' => $request->phone,
            'is_active' => true,
        ]);

        $token = $user->createToken('auth_token')->plainTextToken;

        return response()->json([
            'success' => true,
            'message' => 'User registered successfully',
            'data' => [
                'user' => $user,
                'token' => $token,
            ]
        ], 201);
    }

    // ÄÄƒng nháº­p
    public function login(Request $request)
    {
        $validator = Validator::make($request->all(), [
            'email' => 'required|email',
            'password' => 'required',
        ]);

        if ($validator->fails()) {
            return response()->json([
                'success' => false,
                'message' => 'Validation error',
                'errors' => $validator->errors()
            ], 422);
        }

        if (!Auth::attempt($request->only('email', 'password'))) {
            return response()->json([
                'success' => false,
                'message' => 'Email hoáº·c máº­t kháº©u khÃ´ng Ä‘Ãºng'
            ], 401);
        }

        $user = User::where('email', $request->email)->first();

        if (!$user->is_active) {
            return response()->json([
                'success' => false,
                'message' => 'TÃ i khoáº£n Ä‘Ã£ bá»‹ khÃ³a'
            ], 403);
        }

        // Update last login
        $user->update(['last_login_at' => now()]);

        $token = $user->createToken('auth_token')->plainTextToken;

        return response()->json([
            'success' => true,
            'message' => 'Login successful',
            'data' => [
                'user' => $user,
                'token' => $token,
            ]
        ], 200);
    }

    // ÄÄƒng xuáº¥t
    public function logout(Request $request)
    {
        $request->user()->currentAccessToken()->delete();

        return response()->json([
            'success' => true,
            'message' => 'Logged out successfully'
        ], 200);
    }

    // Láº¥y thÃ´ng tin user hiá»‡n táº¡i
    public function me(Request $request)
    {
        return response()->json([
            'success' => true,
            'data' => $request->user()
        ], 200);
    }

    // Äá»•i máº­t kháº©u
    public function changePassword(Request $request)
    {
        $validator = Validator::make($request->all(), [
            'current_password' => 'required',
            'new_password' => ['required', 'confirmed', Password::min(8)],
        ]);

        if ($validator->fails()) {
            return response()->json([
                'success' => false,
                'message' => 'Validation error',
                'errors' => $validator->errors()
            ], 422);
        }

        $user = $request->user();

        if (!Hash::check($request->current_password, $user->password)) {
            return response()->json([
                'success' => false,
                'message' => 'Máº­t kháº©u hiá»‡n táº¡i khÃ´ng Ä‘Ãºng'
            ], 422);
        }

        $user->update([
            'password' => Hash::make($request->new_password)
        ]);

        // XÃ³a táº¥t cáº£ token cÅ©
        $user->tokens()->delete();

        // Táº¡o token má»›i
        $token = $user->createToken('auth_token')->plainTextToken;

        return response()->json([
            'success' => true,
            'message' => 'Äá»•i máº­t kháº©u thÃ nh cÃ´ng',
            'data' => [
                'token' => $token
            ]
        ], 200);
    }

    // Cáº­p nháº­t profile
    public function updateProfile(Request $request)
    {
        $user = $request->user();

        $validator = Validator::make($request->all(), [
            'name' => 'required|string|max:255',
            'phone' => 'nullable|string|max:20',
            'address' => 'nullable|string|max:500',
            'avatar' => 'nullable|image|mimes:jpeg,png,jpg,gif|max:2048',
        ]);

        if ($validator->fails()) {
            return response()->json([
                'success' => false,
                'message' => 'Validation error',
                'errors' => $validator->errors()
            ], 422);
        }

        $data = $request->only(['name', 'phone', 'address']);

        // Xá»­ lÃ½ upload avatar
        if ($request->hasFile('avatar')) {
            if (!Storage::disk('public')->exists('avatars')) {
                Storage::disk('public')->makeDirectory('avatars');  // â† THÃŠM
            }

            $avatarPath = $request->file('avatar')->store('avatars', 'public');
            $data['avatar'] = $avatarPath;
        }

        $user->update($data);

        return response()->json([
            'success' => true,
            'message' => 'Profile updated successfully',
            'data' => $user->fresh()
        ], 200);
    }

    // QuÃªn máº­t kháº©u - Gá»­i OTP
    public function forgotPassword(Request $request)
    {
        $validator = Validator::make($request->all(), [
            'email' => 'required|email|exists:users,email',
        ]);

        if ($validator->fails()) {
            return response()->json([
                'success' => false,
                'message' => 'Validation error',
                'errors' => $validator->errors()
            ], 422);
        }

        // TODO: Implement OTP/Email sending logic
        // á» Ä‘Ã¢y báº¡n cÃ³ thá»ƒ tÃ­ch há»£p gá»­i email hoáº·c SMS

        return response()->json([
            'success' => true,
            'message' => 'MÃ£ xÃ¡c nháº­n Ä‘Ã£ Ä‘Æ°á»£c gá»­i Ä‘áº¿n email cá»§a báº¡n'
        ], 200);
    }

    // Reset máº­t kháº©u
    public function resetPassword(Request $request)
    {
        $validator = Validator::make($request->all(), [
            'email' => 'required|email|exists:users,email',
            'password' => ['required', 'confirmed', Password::min(8)],
            'otp' => 'required|string', // OTP tá»« email
        ]);

        if ($validator->fails()) {
            return response()->json([
                'success' => false,
                'message' => 'Validation error',
                'errors' => $validator->errors()
            ], 422);
        }

        // TODO: Verify OTP

        $user = User::where('email', $request->email)->first();
        $user->update([
            'password' => Hash::make($request->password)
        ]);

        return response()->json([
            'success' => true,
            'message' => 'Máº­t kháº©u Ä‘Ã£ Ä‘Æ°á»£c Ä‘áº·t láº¡i thÃ nh cÃ´ng'
        ], 200);
    }
}


----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Api\CartController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Cart;
use App\Models\CartItem;
use App\Models\Product;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Log;

class CartController extends Controller
{
    /**
     * Get or create cart for current session/user
     */
    private function getOrCreateCart(Request $request)
    {
        if ($request->user()) {
            $cart = Cart::firstOrCreate([
                'user_id' => $request->user()->id,
                'session_id' => null,
            ]);
        } else {
            // â­ Ensure session is started before getting ID
            if (!$request->hasSession()) {
                $request->setLaravelSession(app('session.store'));
            }

            $sessionId = $request->session()->getId();

            // â­ If session ID is empty, generate a new one
            if (empty($sessionId)) {
                $request->session()->regenerate();
                $sessionId = $request->session()->getId();
            }

            $cart = Cart::firstOrCreate([
                'session_id' => $sessionId,
                'user_id' => null,
            ]);
        }

        return $cart;
    }

    /**
     * Display cart
     */
    public function show(Request $request)
    {
        try {
            $cart = $this->getOrCreateCart($request);
            $cart->load('items.product.primaryImage', 'items.product.category');
            foreach ($cart->items as $item) {
                if (!$item->product || !$item->product->is_active) {
                    $item->delete();
                }
            }
            return response()->json(['data' => $cart]);
        } catch (\Exception $e) {
            Log::error('Cart show error: ' . $e->getMessage(), [
                'trace' => $e->getTraceAsString(),
                'user' => $request->user()?->id,
                'session' => $request->session()->getId() ?? 'no-session'
            ]);

            return response()->json([
                'message' => 'Failed to load cart',
                'error' => config('app.debug') ? $e->getMessage() : 'Internal server error'
            ], 500);
        }
    }

    /**
     * Add item to cart
     */
    public function addItem(Request $request)
    {
        $request->validate([
            'product_id' => 'required|exists:products,id',
            'quantity' => 'required|integer|min:1|max:10',
        ]);

        $cart = $this->getOrCreateCart($request);
        $product = Product::where('is_active', true)
                      ->findOrFail($request->product_id);

        // Check if item already exists in cart
        $cartItem = $cart->items()->where('product_id', $product->id)->first();

        if ($cartItem) {
            // Update quantity
            $cartItem->quantity += $request->quantity;
            $cartItem->save();
        } else {
            // Create new cart item
            $cart->items()->create([
                'product_id' => $product->id,
                'quantity' => $request->quantity,
            ]);
        }

        $cart->load('items.product.primaryImage', 'items.product.category');

        return response()->json(['data' => $cart]);
    }

    /**
     * Update cart item quantity
     */
    public function updateItem(Request $request, CartItem $item)
    {
        $request->validate([
            'quantity' => 'required|integer|min:1',
        ]);

        $item->update(['quantity' => $request->quantity]);

        $cart = $item->cart;
        $cart->load('items.product.primaryImage', 'items.product.category');

        return response()->json(['data' => $cart]);
    }

    /**
     * Remove item from cart
     */
    public function removeItem(CartItem $item)
    {
        $cart = $item->cart;
        $item->delete();

        $cart->load('items.product.primaryImage', 'items.product.category');

        return response()->json(['data' => $cart]);
    }

    /**
     * Clear cart
     */
    public function clear(Request $request)
    {
        $cart = $this->getOrCreateCart($request);
        $cart->items()->delete();

        return response()->json(['data' => null]);
    }
}


----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Api\CategoryController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Category;
use Illuminate\Http\Request;

class CategoryController extends Controller
{
    /**
     * Display a listing of active categories
     */
    public function index()
    {
        $categories = Category::where('status', true)
            ->orderBy('name')
            ->get();

        return response()->json(['data' => $categories]);
    }

    /**
     * Display the specified category
     */
    public function show(Category $category)
    {
        return response()->json(['data' => $category]);
    }
}


----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Api\OrderController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Order;
use Illuminate\Http\Request;
use App\Models\Product;

class OrderController extends Controller
{
    /**
     * Display a listing of user's orders
     */
    public function index(Request $request)
    {
        $orders = $request->user()->orders()
            ->with('items.product.primaryImage')
            ->latest()
            ->get();

        return response()->json(['data' => $orders]);
    }

    /**
     * Store a newly created order
     */
    public function store(Request $request)
    {
        $request->validate([
            'name' => 'required|string|max:255',
            'email' => 'required|email|max:255',
            'phone' => 'required|string|max:20',
            'address' => 'required|string|max:500',
            'city' => 'required|string|max:100',
            'district' => 'required|string|max:100',
            'note' => 'nullable|string|max:1000',
            'payment_method' => 'required|in:cod,bank_transfer',
            'items' => 'required|array|min:1',
        'items.*.product_id' => 'required|exists:products,id',
        'items.*.quantity' => 'required|integer|min:1',
        'items.*.price' => 'required|numeric|min:0',
        ]);

        foreach ($request->items as $item) {
        $product = Product::findOrFail($item['product_id']);
        if ($product->in_stock < $item['quantity']) {
            return response()->json([
                'message' => "Sáº£n pháº©m {$product->name} khÃ´ng Ä‘á»§ hÃ ng"
            ], 422);
        }
    }
        // Calculate totals
        $subtotal = collect($request->items)->sum(fn($item) => 
        $item['price'] * $item['quantity']
    );

        $shippingFee = $subtotal >= 500000 ? 0 : 30000;
        $total = $subtotal + $shippingFee;

        // Create order
        $order = $request->user()->orders()->create([
           'order_code' => 'ORDER-' . strtoupper(uniqid()),
        'shipping_name' => $request->name,      // â† THAY
        'shipping_phone' => $request->phone,    // â† THAY
        'shipping_address' => $request->address, // â† THAY
            'city' => $request->city,
            'district' => $request->district,
            'note' => $request->note,
            'payment_method' => $request->payment_method,
            'subtotal' => $subtotal,
            'shipping_fee' => $shippingFee,
            'total' => $total,
            'status' => 'pending',
        ]);

     foreach ($request->items as $item) {
        $product = Product::findOrFail($item['product_id']);
        $product->decrement('in_stock', $item['quantity']);
        
        $order->items()->create([
            'product_id' => $item['product_id'],
            'quantity' => $item['quantity'],
            'price' => $item['price'],
            'total' => $item['price'] * $item['quantity'],
        ]);
    }
        $order->load('items.product.primaryImage');

        return response()->json([
            'data' => $order,
            'message' => 'Äáº·t hÃ ng thÃ nh cÃ´ng'
        ], 201);
    }

    /**
     * Display the specified order
     */
    public function show(Order $order)
    {
        // Ensure user owns this order
        if ($order->user_id !== request()->user()->id) {
            return response()->json([
                'message' => 'KhÃ´ng cÃ³ quyá»n truy cáº­p Ä‘Æ¡n hÃ ng nÃ y'
            ], 403);
        }

        $order->load('items.product.primaryImage', 'items.product.category');

        return response()->json(['data' => $order]);
    }
    
}


----------------------------------------
ğŸ“„ FILE: app\Http\Controllers\Api\ProductController.php
----------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Product;
use App\Models\Review;
use Illuminate\Http\Request;
use App\Models\OrderItem;


class ProductController extends Controller
{
    /**
     * Display a listing of products with filters
     */
    public function index(Request $request)
    {
        $query = Product::with(['category', 'primaryImage', 'images'])
            ->where('is_active', true);

        // Search by name, description, SKU
        if ($request->has('search')) {
            $search = $request->search;
            $query->where(function ($q) use ($search) {
                $q->where('name', 'like', "%{$search}%")
                    ->orWhere('description', 'like', "%{$search}%")
                    ->orWhere('sku', 'like', "%{$search}%");
            });
        }

        // Filter by category
        if ($request->has('category_id')) {
            $query->where('category_id', $request->category_id);
        }

        // Filter by featured
        if ($request->has('featured')) {
            $query->where('featured', $request->featured);
        }

        // Filter by price range
        if ($request->has('min_price')) {
            $query->where('price', '>=', $request->min_price);
        }

        if ($request->has('max_price')) {
            $query->where('price', '<=', $request->max_price);
        }

        // Sort
        $sort = $request->get('sort', 'newest');
        switch ($sort) {
            case 'price_asc':
                $query->orderBy('price', 'asc');
                break;
            case 'price_desc':
                $query->orderBy('price', 'desc');
                break;
            case 'popular':
                $query->withCount('reviews')
                    ->orderBy('reviews_count', 'desc');
                break;
            case 'newest':
            default:
                $query->orderBy('created_at', 'desc');
                break;
        }

        // Pagination
        $perPage = $request->get('limit', 12);
        $products = $query->paginate($perPage);

        // Add average rating and review count
        $products->getCollection()->transform(function ($product) {
            $product->average_rating = $product->reviews()->avg('rating') ?? 0;
            $product->reviews_count = $product->reviews()->count();
            return $product;
        });

        return response()->json([
            'data' => $products->items(),
            'meta' => [
                'current_page' => $products->currentPage(),
                'last_page' => $products->lastPage(),
                'per_page' => $products->perPage(),
                'total' => $products->total(),
            ]
        ]);
    }

    /**
     * Get featured products
     */
    public function featured()
    {
        $products = Product::with(['category', 'primaryImage', 'images'])
            ->where('is_active', true)
            ->where('featured', true)
            ->limit(8)
            ->get();

        // Add average rating and review count
        $products->transform(function ($product) {
            $product->average_rating = $product->reviews()->avg('rating') ?? 0;
            $product->reviews_count = $product->reviews()->count();
            return $product;
        });

        return response()->json(['data' => $products]);
    }

    /**
     * Display the specified product
     */
    public function show(Product $product)
    {
        $product->load([
            'category',
            'primaryImage',
            'images',
            'reviews' => function ($q) {  // â† THÃŠM
                $q->where('status', 'approved')
                    ->with('user:id,name')
                    ->orderBy('created_at', 'desc');
            }
        ]);

        $product->average_rating = $product->reviews()->avg('rating') ?? 0;
        $product->reviews_count = $product->reviews()->count();

        return response()->json(['data' => $product]);
    }

    /**
     * Get reviews for a product
     */
    public function reviews(Product $product)
    {
        $reviews = $product->reviews()
            ->with('user:id,name')
            ->latest()
            ->get();

        return response()->json(['data' => $reviews]);
    }

    /**
     * Store a review for a product (authenticated users only)
     */
    public function storeReview(Request $request, Product $product)
    {
        $request->validate([
            'rating' => 'required|integer|min:1|max:5',
            'comment' => 'required|string|max:1000',
        ]);
        $hasPurchased = OrderItem::whereHas('order', function ($q) use ($request) {
            $q->where('user_id', $request->user()->id)
                ->whereIn('status', ['delivered', 'completed']);
        })->where('product_id', $product->id)->exists();

        if (!$hasPurchased) {
            return response()->json([
                'message' => 'Báº¡n chá»‰ cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ sáº£n pháº©m Ä‘Ã£ mua'
            ], 403);
        }
        // Check if user already reviewed this product
        $existingReview = $product->reviews()
            ->where('user_id', $request->user()->id)
            ->first();

        if ($existingReview) {
            return response()->json([
                'message' => 'Báº¡n Ä‘Ã£ Ä‘Ã¡nh giÃ¡ sáº£n pháº©m nÃ y rá»“i'
            ], 422);
        }

        $review = $product->reviews()->create([
            'user_id' => $request->user()->id,
            'rating' => $request->rating,
            'comment' => $request->comment,
            'status' => 'pending', // â† THÃŠM
        ]);

        $review->load('user:id,name');

        return response()->json([
            'data' => $review,
            'message' => 'ÄÃ¡nh giÃ¡ thÃ nh cÃ´ng! Cáº£m Æ¡n báº¡n'
        ], 201);
    }
}


============================================================
ğŸ“ app\Models
============================================================



----------------------------------------
ğŸ“„ FILE: app\Models\Cart.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Cart extends Model
{
    protected $table = 'cart';

    protected $fillable = [
        'user_id',
        'session_id',
    ];

    public function user()
    {
        return $this->belongsTo(User::class);
    }

    public function items()
    {
        return $this->hasMany(CartItem::class);
    }

    // TÃ­nh tá»•ng giÃ¡ trá»‹ giá» hÃ ng
    public function getTotalAttribute()
    {
        return $this->items->sum(function($item) {
            return $item->quantity * ($item->product->sale_price ?? $item->product->price);
        });
    }
}


----------------------------------------
ğŸ“„ FILE: app\Models\CartItem.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class CartItem extends Model
{
    protected $fillable = [
        'cart_id',
        'product_id',
        'quantity',
    ];

    protected $casts = [
        'quantity' => 'integer',
    ];

    public function cart()
    {
        return $this->belongsTo(Cart::class);
    }

    public function product()
    {
        return $this->belongsTo(Product::class);
    }

    // TÃ­nh tá»•ng cho má»—i item
    public function getSubtotalAttribute()
    {
        return $this->quantity * ($this->product->sale_price ?? $this->product->price);
    }
}


----------------------------------------
ğŸ“„ FILE: app\Models\Category.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Category extends Model
{
    use HasFactory;

    protected $fillable = [
        'name',
        'slug',
        'description',
        'image',
        'status',
    ];

    protected $casts = [
        'status' => 'boolean',
    ];

    public function products()
    {
        return $this->hasMany(Product::class);
    }
}


----------------------------------------
ğŸ“„ FILE: app\Models\Order.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Support\Str;

class Order extends Model
{
    protected $fillable = [
        'user_id',
        'order_code',
        'subtotal',           
        'total_amount',
        'shipping_fee',
        'status',
        'shipping_name',
        'shipping_phone',
        'shipping_address',
        'note',
    ];

    protected $casts = [
        'subtotal' => 'decimal:2', 
        'total_amount' => 'decimal:2',
        'shipping_fee' => 'decimal:2',
        'created_at' => 'datetime',
        'updated_at' => 'datetime',
    ];

    protected static function boot()
    {
        parent::boot();

        static::creating(function ($order) {
            if (empty($order->order_code)) {
                $order->order_code = 'ORDER-' . strtoupper(Str::random(8));
            }
        });
    }

    public function user()
    {
        return $this->belongsTo(User::class);
    }

    public function items()
    {
        return $this->hasMany(OrderItem::class);
    }

    // TÃ­nh tá»•ng Ä‘Æ¡n hÃ ng (bao gá»“m phÃ­ ship)
     public function getGrandTotalAttribute()
    {
        return ($this->total_amount ?? 0) + ($this->shipping_fee ?? 0);
    }

    
}


----------------------------------------
ğŸ“„ FILE: app\Models\OrderItem.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class OrderItem extends Model
{
    public $timestamps = false;

    protected $fillable = [
        'order_id',
        'product_id',
        'quantity',
        'price',
        'total',
    ];

    protected $casts = [
        'quantity' => 'integer',
        'price' => 'decimal:2',
        'total' => 'decimal:2',
        'created_at' => 'datetime',
    ];

    public function order()
    {
        return $this->belongsTo(Order::class);
    }

    public function product()
    {
        return $this->belongsTo(Product::class);
    }
}


----------------------------------------
ğŸ“„ FILE: app\Models\Product.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Product extends Model
{
    use HasFactory;

    protected $fillable = [
        'name',
        'slug',
        'description',
        'price',
        'sale_price',
        'sku',
        'category_id',
        'material',
        'fragrance',
        'in_stock',
        'is_active',
        'featured',
        'weight',
    ];

    protected $casts = [
        'price' => 'decimal:2',
        'sale_price' => 'decimal:2',
        'in_stock' => 'integer',
        'is_active' => 'boolean',
        'featured' => 'boolean',
        'weight' => 'decimal:2',
    ];

    public function category()
    {
        return $this->belongsTo(Category::class);
    }

    public function images()
    {
        return $this->hasMany(ProductImage::class);
    }

    public function primaryImage()
    {
        return $this->hasOne(ProductImage::class)->where('is_primary', true);
    }

    public function reviews()
    {
        return $this->hasMany(Review::class);
    }

    public function cartItems()
    {
        return $this->hasMany(CartItem::class);
    }

    public function orderItems()
    {
        return $this->hasMany(OrderItem::class);
    }

    // Helper method Ä‘á»ƒ láº¥y áº£nh chÃ­nh
    public function getPrimaryImageAttribute()
    {
        return $this->images->where('is_primary', true)->first() ?? $this->images->first();
    }

    // TÃ­nh giÃ¡ hiá»‡n táº¡i (cÃ³ sale_price thÃ¬ dÃ¹ng, khÃ´ng thÃ¬ dÃ¹ng price)
    public function getCurrentPriceAttribute()
    {
        return $this->sale_price ?? $this->price;
    }
}


----------------------------------------
ğŸ“„ FILE: app\Models\ProductImage.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class ProductImage extends Model
{
    use HasFactory;

    public $timestamps = false;

    protected $fillable = [
        'product_id',
        'image_path',
        'is_primary',
        'alt_text',
    ];

    protected $casts = [
        'is_primary' => 'boolean',
        'created_at' => 'datetime',
    ];

    public function product()
    {
        return $this->belongsTo(Product::class);
    }
}


----------------------------------------
ğŸ“„ FILE: app\Models\Review.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Review extends Model
{
    use HasFactory;

    protected $fillable = [
        'product_id',
        'user_id',
        'rating',
        'comment',
        'status',
    ];

    protected $casts = [
        'rating' => 'integer',
    ];

    public function product()
    {
        return $this->belongsTo(Product::class);
    }

    public function user()
    {
        return $this->belongsTo(User::class);
    }
}


----------------------------------------
ğŸ“„ FILE: app\Models\User.php
----------------------------------------

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Laravel\Sanctum\HasApiTokens;

class User extends Authenticatable
{
    use HasApiTokens, HasFactory, Notifiable;

    protected $fillable = [
        'name',
        'email',
        'password',
        'phone',
        'address',
        'avatar',
        'role',
        'is_active',
        'last_login_at',
    ];

 

    protected $hidden = [
        'password',
        'remember_token',
    ];

    protected $casts = [
        'email_verified_at' => 'datetime',
        'last_login_at' => 'datetime',
        'password' => 'hashed',
        'is_active' => 'boolean',
    ];

    // Scopes
    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }

    // Accessors
    public function getAvatarUrlAttribute()
    {
        if ($this->avatar) {
            return asset('storage/' . $this->avatar);
        }
        return 'https://ui-avatars.com/api/?name=' . urlencode($this->name);
    }

    // Check if user is admin
    public function isAdmin(): bool
    {
        return $this->role === 'admin';
    }
}

============================================================
ğŸ“ database\migrations
============================================================



----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000000_create_users_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('users', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('email')->unique();
            $table->string('phone')->nullable();
            $table->text('address')->nullable();
            $table->string('avatar')->nullable();
            $table->enum('role', ['user', 'admin'])->default('user');
            $table->timestamp('email_verified_at')->nullable();
            $table->string('password');
            $table->boolean('is_active')->default(true);
            $table->timestamp('last_login_at')->nullable();
            $table->rememberToken();
            $table->timestamps();
        });

        Schema::create('password_reset_tokens', function (Blueprint $table) {
            $table->string('email')->primary();
            $table->string('token');
            $table->timestamp('created_at')->nullable();
        });

        Schema::create('sessions', function (Blueprint $table) {
            $table->string('id')->primary();
            $table->foreignId('user_id')->nullable()->index();
            $table->string('ip_address', 45)->nullable();
            $table->text('user_agent')->nullable();
            $table->longText('payload');
            $table->integer('last_activity')->index();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('users');
        Schema::dropIfExists('password_reset_tokens');
        Schema::dropIfExists('sessions');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000001_create_cache_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('cache', function (Blueprint $table) {
            $table->string('key')->primary();
            $table->mediumText('value');
            $table->integer('expiration');
        });

        Schema::create('cache_locks', function (Blueprint $table) {
            $table->string('key')->primary();
            $table->string('owner');
            $table->integer('expiration');
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('cache');
        Schema::dropIfExists('cache_locks');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000002_create_jobs_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('jobs', function (Blueprint $table) {
            $table->id();
            $table->string('queue')->index();
            $table->longText('payload');
            $table->unsignedTinyInteger('attempts');
            $table->unsignedInteger('reserved_at')->nullable();
            $table->unsignedInteger('available_at');
            $table->unsignedInteger('created_at');
        });

        Schema::create('job_batches', function (Blueprint $table) {
            $table->string('id')->primary();
            $table->string('name');
            $table->integer('total_jobs');
            $table->integer('pending_jobs');
            $table->integer('failed_jobs');
            $table->longText('failed_job_ids');
            $table->mediumText('options')->nullable();
            $table->integer('cancelled_at')->nullable();
            $table->integer('created_at');
            $table->integer('finished_at')->nullable();
        });

        Schema::create('failed_jobs', function (Blueprint $table) {
            $table->id();
            $table->string('uuid')->unique();
            $table->text('connection');
            $table->text('queue');
            $table->longText('payload');
            $table->longText('exception');
            $table->timestamp('failed_at')->useCurrent();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('jobs');
        Schema::dropIfExists('job_batches');
        Schema::dropIfExists('failed_jobs');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000003_create_categories_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('categories', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('slug')->unique();
            $table->text('description')->nullable();
            $table->string('image')->nullable();
            $table->boolean('status')->default(true);
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('categories');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000004_create_products_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('products', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('slug')->unique();
            $table->text('description')->nullable();
            $table->decimal('price', 10, 2);
            $table->decimal('sale_price', 10, 2)->nullable();
            $table->string('sku')->unique();
            $table->foreignId('category_id')->constrained()->onDelete('cascade');
            $table->string('material')->nullable();
            $table->string('fragrance')->nullable();
            $table->integer('in_stock')->default(0);
            $table->boolean('is_active')->default(true);
            $table->boolean('featured')->default(false);
            $table->decimal('weight', 8, 2)->nullable();
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('products');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000005_create_product_images_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('product_images', function (Blueprint $table) {
            $table->id();
            $table->foreignId('product_id')->constrained()->onDelete('cascade');
            $table->string('image_path');
            $table->boolean('is_primary')->default(false);
            $table->string('alt_text');
            $table->timestamp('created_at');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('product_images');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000006_create_reviews_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('reviews', function (Blueprint $table) {
            $table->id();
            $table->foreignId('product_id')->constrained()->onDelete('cascade');
            $table->foreignId('user_id')->constrained()->onDelete('cascade');
            $table->integer('rating')->unsigned()->comment('1-5');
            $table->text('comment')->nullable();
            $table->enum('status', ['pending', 'approved'])->default('pending');
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('reviews');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000007_create_cart_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('cart', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->nullable()->constrained()->onDelete('cascade');
            $table->string('session_id')->nullable();
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('cart');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000008_create_cart_items_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('cart_items', function (Blueprint $table) {
            $table->id();
            $table->foreignId('cart_id')->constrained('cart')->onDelete('cascade');
            $table->foreignId('product_id')->constrained()->onDelete('cascade');
            $table->integer('quantity')->default(1);
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('cart_items');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000009_create_orders_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('orders', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->onDelete('cascade');
            $table->string('order_code')->unique();
            $table->decimal('subtotal', 10, 2);        // â† THÃŠM
            $table->decimal('total_amount', 10, 2);
            $table->decimal('shipping_fee', 10, 2)->default(0);
            $table->enum('status', [
                'pending',
                'confirmed',
                'shipping',
                'delivered',
                'cancelled'
            ])->default('pending');
            $table->enum('payment_method', [         // â† THÃŠM
                'cod',
                'bank_transfer',
                'momo',
                'vnpay'
            ])->default('cod');
            $table->string('shipping_name');
            $table->string('shipping_phone');
            $table->string('shipping_email')->nullable(); // â† THÃŠM
            $table->text('shipping_address');
            $table->string('shipping_city')->nullable();  // â† THÃŠM
            $table->string('shipping_district')->nullable(); // â† THÃŠM
            $table->string('shipping_ward')->nullable();  // â† THÃŠM
            $table->text('note')->nullable();
            $table->timestamps();
            $table->index('created_at');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('orders');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\0001_01_01_000010_create_order_items_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('order_items', function (Blueprint $table) {
            $table->id();
            $table->foreignId('order_id')->constrained()->onDelete('cascade');
            $table->foreignId('product_id')->constrained()->onDelete('cascade');
            $table->integer('quantity');
            $table->decimal('price', 10, 2)->comment('GiÃ¡ táº¡i thá»i Ä‘iá»ƒm Ä‘áº·t');
            $table->decimal('total', 10, 2);
            $table->timestamp('created_at');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('order_items');
    }
};


----------------------------------------
ğŸ“„ FILE: database\migrations\2025_11_09_123425_create_personal_access_tokens_table.php
----------------------------------------

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('personal_access_tokens', function (Blueprint $table) {
            $table->id();
            $table->morphs('tokenable');
            $table->text('name');
            $table->string('token', 64)->unique();
            $table->text('abilities')->nullable();
            $table->timestamp('last_used_at')->nullable();
            $table->timestamp('expires_at')->nullable()->index();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('personal_access_tokens');
    }
};


============================================================
ğŸ“ resources\views
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\client.blade.php
----------------------------------------

<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-token" content="{{ csrf_token() }}">

    <title>{{ config('app.name', 'Candle Shop') }}</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap" rel="stylesheet" />

    <!-- Scripts -->
    @vite(['resources/css/app.css', 'resources/js/app.js'])
</head>
<body>
    <div id="root">
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; flex-direction: column;">
            <h1>Welcome to Candle Shop</h1>
            <p>Client React App will be here</p>
        </div>
    </div>
</body>
</html>


============================================================
ğŸ“ resources\views\admin
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\admin\dashboard.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Dashboard')
@section('page-title', 'Tá»•ng quan')

@push('styles')
<style>
    .chart-card {
        background: #fff;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        margin-bottom: 20px;
        border: 1px solid #f0f0f0;
    }   

    .chart-card h5 {
        font-size: 18px;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid #f0f0f0;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .chart-card h5 i {
        color: var(--primary-color);
    }

    .table-card {
        background: #fff;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
    }

    .table-card h5 {
        font-size: 18px;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .custom-table {
        width: 100%;
        border-collapse: collapse;
    }

    .custom-table thead {
        background: #f8f9fa;
    }

    .custom-table th {
        padding: 12px 15px;
        font-weight: 600;
        color: #495057;
        font-size: 14px;
        border: none;
        text-align: left;
    }

    .custom-table td {
        padding: 12px 15px;
        color: #6c757d;
        font-size: 14px;
        border-bottom: 1px solid #f0f0f0;
    }

    .custom-table tbody tr:hover {
        background: #f8f9fa;
    }

    .badge-status {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
    }

    .badge-pending {
        background: #fff3cd;
        color: #856404;
    }

    .badge-processing {
        background: #cce5ff;
        color: #004085;
    }

    .badge-completed {
        background: #d4edda;
        color: #155724;
    }

    .badge-cancelled {
        background: #f8d7da;
        color: #721c24;
    }

    .product-img {
        width: 40px;
        height: 40px;
        object-fit: cover;
        border-radius: 8px;
    }

    .list-group-item {
        border: none;
        padding: 15px 0;
        border-bottom: 1px solid #f0f0f0;
    }

    .list-group-item:last-child {
        border-bottom: none;
    }
</style>
@endpush

@section('content')
<div class="container-fluid">
    <!-- Stats Cards Row -->
    <div class="row mb-4">
        <div class="col-xl-3 col-lg-6 col-md-6">
            <div class="stats-card">
                <div class="stats-icon primary">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <div class="stats-number">${{ number_format($totalRevenue, 2) }}</div>
                <div class="stats-label">Doanh thu thÃ¡ng nÃ y</div>
                <div class="stats-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>12.5% so vá»›i thÃ¡ng trÆ°á»›c</span>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-lg-6 col-md-6">
            <div class="stats-card">
                <div class="stats-icon success">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <div class="stats-number">{{ $totalOrders }}</div>
                <div class="stats-label">ÄÆ¡n hÃ ng má»›i</div>
                <div class="stats-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>8.3% so vá»›i thÃ¡ng trÆ°á»›c</span>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-lg-6 col-md-6">
            <div class="stats-card">
                <div class="stats-icon warning">
                    <i class="fas fa-box"></i>
                </div>
                <div class="stats-number">{{ $totalProducts }}</div>
                <div class="stats-label">Tá»•ng sáº£n pháº©m</div>
                <div class="stats-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>15 sáº£n pháº©m má»›i</span>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-lg-6 col-md-6">
            <div class="stats-card">
                <div class="stats-icon danger">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stats-number">{{ $totalCategories }}</div>
                <div class="stats-label">Danh má»¥c</div>
                <div class="stats-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>5 danh má»¥c má»›i</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Charts Row -->
    <div class="row mb-4">
        <div class="col-xl-8 col-lg-7">
            <div class="chart-card">
                <h5><i class="fas fa-chart-line me-2"></i>Biá»ƒu Ä‘á»“ doanh thu 12 thÃ¡ng</h5>
                <canvas id="revenueChart" height="80"></canvas>
            </div>
        </div>

        <div class="col-xl-4 col-lg-5">
            <div class="chart-card">
                <h5><i class="fas fa-chart-pie me-2"></i>Top danh má»¥c bÃ¡n cháº¡y</h5>
                <canvas id="categoryChart" height="160"></canvas>
            </div>
        </div>
    </div>

    <!-- Recent Orders & Top Products -->
    <div class="row">
        <div class="col-xl-8">
            <div class="table-card">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="mb-0"><i class="fas fa-shopping-bag me-2"></i>ÄÆ¡n hÃ ng gáº§n Ä‘Ã¢y</h5>
                    <a href="{{ route('admin.orders.index') }}" class="btn btn-sm btn-outline-primary">
                        Xem táº¥t cáº£ <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
                <div class="table-responsive">
                    <table class="custom-table">
                        <thead>
                            <tr>
                                <th>MÃ£ Ä‘Æ¡n</th>
                                <th>KhÃ¡ch hÃ ng</th>
                                <th>Sáº£n pháº©m</th>
                                <th>Tá»•ng tiá»n</th>
                                <th>Tráº¡ng thÃ¡i</th>
                                <th>NgÃ y Ä‘áº·t</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach($recentOrders as $order)
                            <tr>
                                <td><strong>{{ $order->order_code }}</strong></td>
                                <td>{{ $order->shipping_name }}</td>
                                <td>
                                    @foreach($order->items->take(1) as $item)
                                        {{ $item->product->name }}
                                        @if($order->items->count() > 1)
                                            + {{ $order->items->count() - 1 }} sáº£n pháº©m khÃ¡c
                                        @endif
                                    @endforeach
                                </td>
                                <td><strong>${{ number_format($order->total_amount, 2) }}</strong></td>
                                <td>
                                    <span class="badge-status 
                                        @if($order->status == 'pending') badge-pending
                                        @elseif($order->status == 'confirmed') badge-processing
                                        @elseif($order->status == 'shipping') badge-processing
                                        @elseif($order->status == 'delivered') badge-completed
                                        @else badge-cancelled @endif">
                                        {{ ucfirst($order->status) }}
                                    </span>
                                </td>
                                <td>{{ $order->created_at->format('d/m/Y') }}</td>
                            </tr>
                            @endforeach
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-xl-4">
            <div class="table-card">
                <h5 class="mb-3"><i class="fas fa-fire me-2"></i>Sáº£n pháº©m bÃ¡n cháº¡y</h5>
                <div class="list-group list-group-flush">
                    @foreach($topProducts as $product)
                    <div class="list-group-item d-flex align-items-center">
                        @if($product->primaryImage)
                            <img src="{{ asset($product->primaryImage->image_path) }}" alt="{{ $product->name }}" class="product-img me-3">
                        @else
                            <div class="product-img bg-light d-flex align-items-center justify-content-center me-3">
                                <i class="fas fa-box text-muted"></i>
                            </div>
                        @endif
                        <div class="flex-grow-1">
                            <h6 class="mb-0" style="font-size: 14px;">{{ Str::limit($product->name, 25) }}</h6>
                            <small class="text-muted">ÄÃ£ bÃ¡n: {{ $product->total_sold ?? 0 }} sáº£n pháº©m</small>
                        </div>
                        <strong class="text-success">${{ number_format($product->price, 2) }}</strong>
                    </div>
                    @endforeach
                </div>
            </div>
        </div>
    </div>
</div>
@endsection

@push('scripts')
<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<script>
    // Revenue Chart
    const revenueCtx = document.getElementById('revenueChart').getContext('2d');
    new Chart(revenueCtx, {
        type: 'line',
        data: {
            labels: @json($chartLabels),
            datasets: [{
                label: 'Doanh thu ($)',
                data: @json($chartData),
                borderColor: '#8B7355',
                backgroundColor: 'rgba(139, 115, 85, 0.1)',
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                pointRadius: 4,
                pointHoverRadius: 6,
                pointBackgroundColor: '#8B7355',
                pointBorderColor: '#fff',
                pointBorderWidth: 2
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: true,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    padding: 12,
                    titleFont: {
                        size: 14
                    },
                    bodyFont: {
                        size: 13
                    },
                    callbacks: {
                        label: function(context) {
                            return 'Doanh thu: $' + context.parsed.y;
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        borderDash: [5, 5],
                        color: 'rgba(0, 0, 0, 0.05)'
                    },
                    ticks: {
                        callback: function(value) {
                            return '$' + value;
                        }
                    }
                },
                x: {
                    grid: {
                        display: false
                    }
                }
            }
        }
    });

    // Category Chart
    const categoryCtx = document.getElementById('categoryChart').getContext('2d');
    new Chart(categoryCtx, {
        type: 'doughnut',
        data: {
            labels: ['Náº¿n thÆ¡m', 'Tinh dáº§u', 'Sá»¯a táº¯m', 'Dáº§u gá»™i', 'KhÃ¡c'],
            datasets: [{
                data: [45, 25, 15, 10, 5],
                backgroundColor: [
                    '#8B7355',
                    '#D4A574',
                    '#C19A6B',
                    '#A67C52',
                    '#E5C9A8'
                ],
                borderWidth: 0,
                hoverOffset: 10
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: true,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        padding: 15,
                        font: {
                            size: 12
                        },
                        usePointStyle: true,
                        pointStyle: 'circle'
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    padding: 12,
                    callbacks: {
                        label: function(context) {
                            return context.label + ': ' + context.parsed + '%';
                        }
                    }
                }
            }
        }
    });

    // Auto refresh data every 30 seconds
    setInterval(function() {
        console.log('Refreshing dashboard data...');
    }, 30000);
</script>
@endpush

============================================================
ğŸ“ resources\views\admin\auth
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\admin\auth\login.blade.php
----------------------------------------

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÄÄƒng nháº­p Quáº£n trá»‹</title>
    @vite(['resources/css/app.css', 'resources/js/app.js'])
</head>
<body class="bg-light d-flex align-items-center justify-content-center" style="min-height: 100vh;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5">
                <div class="card shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <h2 class="text-center mb-4 fw-bold">ÄÄƒng nháº­p Quáº£n trá»‹</h2>
                        {{-- Hiá»ƒn thá»‹ lá»—i --}}
                        @if ($errors->any())
                            <div class="alert alert-danger">
                                * {{ $errors->first() }}
                            </div>
                        @endif

                        <form method="POST" action="{{ route('admin.login.post') }}">
                            @csrf
                            
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" name="email" id="email"
                                    value="{{ old('email') }}"
                                    class="form-control" autofocus>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Máº­t kháº©u</label>
                                <input type="password" name="password" id="password"
                                       class="form-control" >
                            </div>
                            <div class="form-check mb-3">
                                <input type="checkbox" name="remember" id="remember" class="form-check-input">
                                <label for="remember" class="form-check-label">Ghi nhá»› Ä‘Äƒng nháº­p</label>
                            </div>

                            <button type="submit" class="btn btn-primary w-100">
                                ÄÄƒng nháº­p
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

  
</body>
</html>


============================================================
ğŸ“ resources\views\admin\categories
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\admin\categories\create.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Create Category')

@section('content')
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Táº¡o Danh Má»¥c Má»›i</h1>
    <a href="{{ route('admin.categories.index') }}" class="btn btn-secondary">
        <i class="bi bi-arrow-left"></i> Quay láº¡i
    </a>
</div>

<div class="container-fluid">
   
        <div class="card">
            <div class="card-body">
                <form action="{{ route('admin.categories.store') }}" method="POST" enctype="multipart/form-data">
                    @csrf
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">TÃªn Danh Má»¥c *</label>
                                <input type="text" class="form-control @error('name') is-invalid @enderror" 
                                       id="name" name="name" value="{{ old('name') }}">
                                @error('name')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="slug" class="form-label">Slug</label>
                                <input type="text" class="form-control @error('slug') is-invalid @enderror" 
                                       id="slug" name="slug" value="{{ old('slug') }}">
                                @error('slug')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                                <small class="text-muted">Äá»ƒ trá»‘ng Ä‘á»ƒ tá»± Ä‘á»™ng táº¡o tá»« tÃªn</small>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="description" class="form-label">MÃ´ táº£</label>
                        <textarea class="form-control @error('description') is-invalid @enderror" 
                                  id="description" name="description" rows="3">{{ old('description') }}</textarea>
                        @error('description')
                            <div class="invalid-feedback">{{ $message }}</div>
                        @enderror
                    </div>

                    <div class="mb-3">
                        <label for="image" class="form-label">áº¢nh Danh Má»¥c</label>
                        <input type="file" class="form-control @error('image') is-invalid @enderror" 
                               id="image" name="image" accept="image/*">
                        @error('image')
                            <div class="invalid-feedback">{{ $message }}</div>
                        @enderror
                        <div class="mt-2" id="image-preview"></div>
                    </div>

                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="status" name="status" value="1" checked>
                            <label class="form-check-label" for="status">KÃ­ch hoáº¡t Danh Má»¥c</label>
                        </div>
                    </div>

                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button type="reset" class="btn btn-outline-secondary me-md-2">Äáº·t láº¡i</button>
                        <button type="submit" class="btn btn-primary">Táº¡o Danh Má»¥c</button>
                    </div>
                </form>
            </div>
        </div>
    
</div>
@endsection

@section('scripts')
<script>
    // Auto-generate slug from name
    document.getElementById('name').addEventListener('input', function() {
        const name = this.value;
        const slugField = document.getElementById('slug');
        
        if (!slugField.value) {
            slugField.value = name.toLowerCase()
                .replace(/[^\w ]+/g, '')
                .replace(/ +/g, '-');
        }
    });

    // Image preview
    document.getElementById('image').addEventListener('change', function(e) {
        const preview = document.getElementById('image-preview');
        preview.innerHTML = '';
        
        if (this.files && this.files[0]) {
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const img = document.createElement('img');
                img.src = e.target.result;
                img.className = 'img-thumbnail mt-2';
                img.style.maxHeight = '200px';
                preview.appendChild(img);
            }
            
            reader.readAsDataURL(this.files[0]);
        }
    });
</script>
@endsection

----------------------------------------
ğŸ“„ FILE: resources\views\admin\categories\edit.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Edit Category')

@section('content')
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Edit Category</h1>
    <a href="{{ route('admin.categories.index') }}" class="btn btn-secondary">
        <i class="bi bi-arrow-left"></i> Back to Categories
    </a>
</div>

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <form action="{{ route('admin.categories.update', $category) }}" method="POST" enctype="multipart/form-data">
                    @csrf
                    @method('PUT')
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="name" class="form-label">Category Name *</label>
                                <input type="text" class="form-control @error('name') is-invalid @enderror" 
                                       id="name" name="name" value="{{ old('name', $category->name) }}" required>
                                @error('name')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="slug" class="form-label">Slug *</label>
                                <input type="text" class="form-control @error('slug') is-invalid @enderror" 
                                       id="slug" name="slug" value="{{ old('slug', $category->slug) }}" required>
                                @error('slug')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control @error('description') is-invalid @enderror" 
                                  id="description" name="description" rows="3">{{ old('description', $category->description) }}</textarea>
                        @error('description')
                            <div class="invalid-feedback">{{ $message }}</div>
                        @enderror
                    </div>

                    <div class="mb-3">
                        <label for="image" class="form-label">Category Image</label>
                        <input type="file" class="form-control @error('image') is-invalid @enderror" 
                               id="image" name="image" accept="image/*">
                        @error('image')
                            <div class="invalid-feedback">{{ $message }}</div>
                        @enderror
                        
                        @if($category->image)
                            <div class="mt-2">
                                <p>Current Image:</p>
                                <img src="{{ asset($category->image) }}" alt="{{ $category->name }}" 
                                     class="img-thumbnail" style="max-height: 200px;">
                            </div>
                        @endif
                        
                        <div class="mt-2" id="image-preview"></div>
                    </div>

                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="status" name="status" value="1" 
                                   {{ $category->status ? 'checked' : '' }}>
                            <label class="form-check-label" for="status">Active Category</label>
                        </div>
                    </div>

                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="{{ route('admin.categories.index') }}" class="btn btn-outline-secondary me-md-2">Cancel</a>
                        <button type="submit" class="btn btn-primary">Update Category</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">Category Information</h6>
            </div>
            <div class="card-body">
                <p><strong>Created:</strong> {{ $category->created_at->format('M d, Y') }}</p>
                <p><strong>Last Updated:</strong> {{ $category->updated_at->format('M d, Y') }}</p>
                <p><strong>Products Count:</strong> {{ $category->products()->count() }}</p>
                
                @if($category->products()->count() > 0)
                    <div class="alert alert-warning mt-3">
                        <small>
                            <i class="bi bi-exclamation-triangle"></i>
                            This category has {{ $category->products()->count() }} products. 
                            Deleting it will remove all associated products.
                        </small>
                    </div>
                @endif
            </div>
        </div>
    </div>
</div>
@endsection

@section('scripts')
<script>
    // Image preview for edit
    document.getElementById('image').addEventListener('change', function(e) {
        const preview = document.getElementById('image-preview');
        preview.innerHTML = '';
        
        if (this.files && this.files[0]) {
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const img = document.createElement('img');
                img.src = e.target.result;
                img.className = 'img-thumbnail mt-2';
                img.style.maxHeight = '200px';
                preview.appendChild(img);
                
                // Show message that this will replace current image
                const message = document.createElement('div');
                message.className = 'alert alert-info mt-2';
                message.innerHTML = '<small>This image will replace the current one when you update.</small>';
                preview.appendChild(message);
            }
            
            reader.readAsDataURL(this.files[0]);
        }
    });
</script>
@endsection

----------------------------------------
ğŸ“„ FILE: resources\views\admin\categories\index.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Quáº£n lÃ½ danh má»¥c')
@section('page-title', 'Quáº£n lÃ½ danh má»¥c')

@push('styles')
<style>
    .category-table-img {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .filter-card {
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        margin-bottom: 20px;
        border: 1px solid #f0f0f0;
    }

    .table-card {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        overflow: hidden;
    }

    .stats-badge {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
    }
</style>
@endpush

@section('content')
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3">
    <div>
        <h1 class="h2 mb-0">Quáº£n lÃ½ danh má»¥c</h1>
        <p class="text-muted small mb-0">Quáº£n lÃ½ danh má»¥c sáº£n pháº©m trong há»‡ thá»‘ng</p>
    </div>
    <a href="{{ route('admin.categories.create') }}" class="btn btn-primary">
        <i class="fas fa-plus-circle me-1"></i> ThÃªm danh má»¥c
    </a>
</div>

<!-- Filters -->
<div class="filter-card">
    <form method="GET" action="{{ route('admin.categories.index') }}">
        <div class="row g-3">
            <div class="col-md-4">
                <label class="form-label small text-muted">TÃ¬m kiáº¿m</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                    <input type="text" name="search" class="form-control"
                           placeholder="TÃªn danh má»¥c..." value="{{ request('search') }}">
                </div>
            </div>
            <div class="col-md-3">
                <label class="form-label small text-muted">Tráº¡ng thÃ¡i</label>
                <select name="status" class="form-select">
                    <option value="">Táº¥t cáº£</option>
                    <option value="1" {{ request('status') == '1' ? 'selected' : '' }}>Hoáº¡t Ä‘á»™ng</option>
                    <option value="0" {{ request('status') == '0' ? 'selected' : '' }}>Táº¡m ngá»«ng</option>
                </select>
            </div>
            <div class="col-md-2 d-flex align-items-end gap-2">
                <button type="submit" class="btn btn-outline-primary flex-fill">
                    <i class="fas fa-filter"></i> Lá»c
                </button>
                <a href="{{ route('admin.categories.index') }}" class="btn btn-outline-secondary flex-fill">
                    <i class="fas fa-redo"></i>
                </a>
            </div>
        </div>
    </form>
</div>

<!-- Categories Table -->
<div class="table-card">
    <div class="card-body p-0">
        @if($categories->count() > 0)
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th width="60">#</th>
                            <th width="80">HÃ¬nh áº£nh</th>
                            <th>ThÃ´ng tin danh má»¥c</th>
                            <th width="200">Slug</th>
                            <th width="100" class="text-center">Sá»‘ sáº£n pháº©m</th>
                            <th width="120" class="text-center">Tráº¡ng thÃ¡i</th>
                            <th width="120">NgÃ y táº¡o</th>
                            <th width="150" class="text-center">Thao tÃ¡c</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach($categories as $category)
                        <tr>
                            <td class="fw-bold text-muted">{{ $category->id }}</td>
                            <td>
                                @if($category->image)
                                    <img src="{{ asset($category->image) }}" alt="{{ $category->name }}"
                                         class="category-table-img">
                                @else
                                    <div class="bg-light rounded d-flex align-items-center justify-content-center"
                                         style="width: 60px; height: 60px;">
                                        <i class="fas fa-image text-muted"></i>
                                    </div>
                                @endif
                            </td>
                            <td>
                                <div class="fw-bold text-dark">{{ $category->name }}</div>
                                @if($category->description)
                                    <small class="text-muted d-block">{{ Str::limit($category->description, 60) }}</small>
                                @endif
                            </td>
                            <td><code class="text-muted">{{ $category->slug }}</code></td>
                            <td class="text-center">
                                <span class="stats-badge bg-info text-white">
                                    {{ $category->products_count ?? $category->products()->count() }}
                                </span>
                            </td>
                            <td class="text-center">
                                <span class="badge {{ $category->status ? 'bg-success' : 'bg-secondary' }} rounded-pill">
                                    {{ $category->status ? 'Hoáº¡t Ä‘á»™ng' : 'Táº¡m ngá»«ng' }}
                                </span>
                            </td>
                            <td>{{ $category->created_at->format('d/m/Y') }}</td>
                            <td>
                                <div class="d-flex gap-1 justify-content-center">
                                    <a href="{{ route('admin.categories.show', $category) }}"
                                       class="btn btn-sm btn-outline-info"
                                       title="Xem chi tiáº¿t"
                                       data-bs-toggle="tooltip">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                    <a href="{{ route('admin.categories.edit', $category) }}"
                                       class="btn btn-sm btn-outline-primary"
                                       title="Chá»‰nh sá»­a"
                                       data-bs-toggle="tooltip">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <form action="{{ route('admin.categories.destroy', $category) }}"
                                          method="POST"
                                          id="delete-category-{{ $category->id }}"
                                          class="d-inline">
                                        @csrf
                                        @method('DELETE')
                                        <button type="button"
                                                class="btn btn-sm btn-outline-danger"
                                                title="XÃ³a"
                                                data-bs-toggle="tooltip"
                                                onclick="confirmDelete('delete-category-{{ $category->id }}', 'Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a danh má»¥c nÃ y? Táº¥t cáº£ sáº£n pháº©m trong danh má»¥c sáº½ bá»‹ áº£nh hÆ°á»Ÿng.')">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                        @endforeach
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="d-flex justify-content-between align-items-center p-3 border-top">
                <div class="text-muted small">
                    Hiá»ƒn thá»‹ {{ $categories->firstItem() }} Ä‘áº¿n {{ $categories->lastItem() }}
                    trong tá»•ng sá»‘ {{ $categories->total() }} danh má»¥c
                </div>
                {{ $categories->links() }}
            </div>
        @else
            <div class="text-center py-5">
                <i class="fas fa-folder-open display-1 text-muted mb-3"></i>
                <h4 class="mt-3">KhÃ´ng tÃ¬m tháº¥y danh má»¥c</h4>
                <p class="text-muted">Báº¯t Ä‘áº§u báº±ng cÃ¡ch táº¡o danh má»¥c Ä‘áº§u tiÃªn cá»§a báº¡n.</p>
                <a href="{{ route('admin.categories.create') }}" class="btn btn-primary mt-2">
                    <i class="fas fa-plus-circle me-1"></i> Táº¡o danh má»¥c má»›i
                </a>
            </div>
        @endif
    </div>
</div>
@endsection

@push('scripts')
<script>
    // Initialize tooltips
    document.addEventListener('DOMContentLoaded', function() {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
</script>
@endpush

----------------------------------------
ğŸ“„ FILE: resources\views\admin\categories\show.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', $category->name)

@section('content')
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">{{ $category->name }}</h1>
    <div>
        <a href="{{ route('admin.categories.edit', $category) }}" class="btn btn-primary">
            <i class="bi bi-pencil"></i> Edit
        </a>
        <a href="{{ route('admin.categories.index') }}" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Back to Categories
        </a>
    </div>
</div>

<div class="row">
    <div class="col-md-4">
        <div class="card">
            <div class="card-body text-center">
                @if($category->image)
                    <img src="{{ asset($category->image) }}" alt="{{ $category->name }}" 
                         class="img-fluid rounded" style="max-height: 300px;">
                @else
                    <div class="bg-light rounded d-flex align-items-center justify-content-center" 
                         style="height: 200px;">
                        <i class="bi bi-image display-4 text-muted"></i>
                    </div>
                @endif
                
                <h4 class="mt-3">{{ $category->name }}</h4>
                <span class="badge {{ $category->status ? 'bg-success' : 'bg-secondary' }}">
                    {{ $category->status ? 'Active' : 'Inactive' }}
                </span>
                
                @if($category->description)
                    <p class="mt-3">{{ $category->description }}</p>
                @endif
                
                <div class="mt-3">
                    <small class="text-muted">
                        <strong>Slug:</strong> {{ $category->slug }}<br>
                        <strong>Created:</strong> {{ $category->created_at->format('M d, Y') }}<br>
                        <strong>Updated:</strong> {{ $category->updated_at->format('M d, Y') }}
                    </small>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">Products in this Category ({{ $category->products->count() }})</h5>
            </div>
            <div class="card-body">
                @if($category->products->count() > 0)
                    <div class="table-responsive">
                        <table class="table table-sm">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Price</th>
                                    <th>Stock</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach($category->products as $product)
                                <tr>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            @if($product->primaryImage)
                                                <img src="{{ asset($product->primaryImage->image_path) }}" 
                                                     alt="{{ $product->name }}" width="40" height="40" 
                                                     class="rounded me-2" style="object-fit: cover;">
                                            @endif
                                            <div>
                                                <strong>{{ $product->name }}</strong><br>
                                                <small class="text-muted">SKU: {{ $product->sku }}</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        @if($product->sale_price)
                                            <span class="text-danger">${{ $product->sale_price }}</span>
                                            <small class="text-muted text-decoration-line-through">${{ $product->price }}</small>
                                        @else
                                            ${{ $product->price }}
                                        @endif
                                    </td>
                                    <td>
                                        <span class="badge {{ $product->in_stock > 0 ? 'bg-success' : 'bg-danger' }}">
                                            {{ $product->in_stock }}
                                        </span>
                                    </td>
                                    <td>
                                        <span class="badge {{ $product->is_active ? 'bg-success' : 'bg-secondary' }}">
                                            {{ $product->is_active ? 'Active' : 'Inactive' }}
                                        </span>
                                    </td>
                                    <td>
                                        <a href="{{ route('admin.products.edit', $product) }}" 
                                           class="btn btn-sm btn-outline-primary">
                                            <i class="bi bi-pencil"></i>
                                        </a>
                                    </td>
                                </tr>
                                @endforeach
                            </tbody>
                        </table>
                    </div>
                @else
                    <div class="text-center py-4">
                        <i class="bi bi-box display-4 text-muted"></i>
                        <h5 class="mt-3">No products in this category</h5>
                        <p class="text-muted">Add products to this category to see them here.</p>
                        <a href="{{ route('admin.products.create') }}" class="btn btn-primary">
                            <i class="bi bi-plus-circle"></i> Add Product
                        </a>
                    </div>
                @endif
            </div>
        </div>
    </div>
</div>
@endsection

============================================================
ğŸ“ resources\views\admin\orders
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\admin\orders\create.blade.php
----------------------------------------

[File rá»—ng]


----------------------------------------
ğŸ“„ FILE: resources\views\admin\orders\edit.blade.php
----------------------------------------

[File rá»—ng]


----------------------------------------
ğŸ“„ FILE: resources\views\admin\orders\index.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Quáº£n lÃ½ Ä‘Æ¡n hÃ ng')
@section('page-title', 'Quáº£n lÃ½ Ä‘Æ¡n hÃ ng')

@push('styles')
<style>
    .filter-card {
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        margin-bottom: 20px;
        border: 1px solid #f0f0f0;
    }

    .table-card {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        overflow: hidden;
    }

    .order-status-badge {
        padding: 6px 14px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .order-code {
        font-family: 'Courier New', monospace;
        font-weight: 700;
        color: var(--primary-color);
    }
</style>
@endpush

@section('content')
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3">
    <div>
        <h1 class="h2 mb-0">Quáº£n lÃ½ Ä‘Æ¡n hÃ ng</h1>
        <p class="text-muted small mb-0">Quáº£n lÃ½ táº¥t cáº£ Ä‘Æ¡n hÃ ng trong há»‡ thá»‘ng</p>
    </div>
</div>

<!-- Filters -->
<div class="filter-card">
    <form method="GET" action="{{ route('admin.orders.index') }}">
        <div class="row g-3">
            <div class="col-md-4">
                <label class="form-label small text-muted">TÃ¬m kiáº¿m</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                    <input type="text" name="search" class="form-control"
                           placeholder="MÃ£ Ä‘Æ¡n, tÃªn KH, sá»‘ Ä‘iá»‡n thoáº¡i..." value="{{ request('search') }}">
                </div>
            </div>
            <div class="col-md-3">
                <label class="form-label small text-muted">Tráº¡ng thÃ¡i</label>
                <select name="status" class="form-select">
                    <option value="">Táº¥t cáº£</option>
                    <option value="pending" {{ request('status') == 'pending' ? 'selected' : '' }}>Chá» xÃ¡c nháº­n</option>
                    <option value="confirmed" {{ request('status') == 'confirmed' ? 'selected' : '' }}>ÄÃ£ xÃ¡c nháº­n</option>
                    <option value="shipping" {{ request('status') == 'shipping' ? 'selected' : '' }}>Äang giao</option>
                    <option value="delivered" {{ request('status') == 'delivered' ? 'selected' : '' }}>ÄÃ£ giao</option>
                    <option value="cancelled" {{ request('status') == 'cancelled' ? 'selected' : '' }}>ÄÃ£ há»§y</option>
                </select>
            </div>
            <div class="col-md-2 d-flex align-items-end gap-2">
                <button type="submit" class="btn btn-outline-primary flex-fill">
                    <i class="fas fa-filter"></i> Lá»c
                </button>
                <a href="{{ route('admin.orders.index') }}" class="btn btn-outline-secondary flex-fill">
                    <i class="fas fa-redo"></i>
                </a>
            </div>
        </div>
    </form>
</div>

<!-- Orders Table -->
<div class="table-card">
    <div class="card-body p-0">
        @if($orders->count() > 0)
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th width="150">MÃ£ Ä‘Æ¡n hÃ ng</th>
                            <th>ThÃ´ng tin khÃ¡ch hÃ ng</th>
                            <th width="150" class="text-end">Tá»•ng tiá»n</th>
                            <th width="150" class="text-center">Tráº¡ng thÃ¡i</th>
                            <th width="130">NgÃ y Ä‘áº·t</th>
                            <th width="100" class="text-center">Thao tÃ¡c</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach($orders as $order)
                        <tr>
                            <td>
                                <div class="order-code">{{ $order->order_code }}</div>
                            </td>
                            <td>
                                <div class="fw-bold text-dark">{{ $order->shipping_name }}</div>
                                <small class="text-muted d-block">
                                    <i class="fas fa-phone me-1"></i>{{ $order->shipping_phone }}
                                </small>
                                @if($order->shipping_email)
                                    <small class="text-muted d-block">
                                        <i class="fas fa-envelope me-1"></i>{{ $order->shipping_email }}
                                    </small>
                                @endif
                            </td>
                            <td class="text-end">
                                <div class="fw-bold text-success fs-6">
                                    ${{ number_format($order->total_amount, 2) }}
                                </div>
                            </td>
                            <td class="text-center">
                                @php
                                    $statusConfig = [
                                        'pending' => ['label' => 'Chá» xÃ¡c nháº­n', 'class' => 'bg-warning text-dark'],
                                        'confirmed' => ['label' => 'ÄÃ£ xÃ¡c nháº­n', 'class' => 'bg-info text-white'],
                                        'shipping' => ['label' => 'Äang giao', 'class' => 'bg-primary text-white'],
                                        'delivered' => ['label' => 'ÄÃ£ giao', 'class' => 'bg-success text-white'],
                                        'cancelled' => ['label' => 'ÄÃ£ há»§y', 'class' => 'bg-danger text-white']
                                    ];
                                    $status = $statusConfig[$order->status] ?? ['label' => ucfirst($order->status), 'class' => 'bg-secondary'];
                                @endphp
                                <span class="order-status-badge {{ $status['class'] }}">
                                    {{ $status['label'] }}
                                </span>
                            </td>
                            <td>
                                <div>{{ $order->created_at->format('d/m/Y') }}</div>
                                <small class="text-muted">{{ $order->created_at->format('H:i') }}</small>
                            </td>
                            <td class="text-center">
                                <a href="{{ route('admin.orders.show', $order) }}"
                                   class="btn btn-sm btn-outline-info"
                                   title="Xem chi tiáº¿t"
                                   data-bs-toggle="tooltip">
                                    <i class="fas fa-eye"></i>
                                </a>
                            </td>
                        </tr>
                        @endforeach
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="d-flex justify-content-between align-items-center p-3 border-top">
                <div class="text-muted small">
                    Hiá»ƒn thá»‹ {{ $orders->firstItem() }} Ä‘áº¿n {{ $orders->lastItem() }}
                    trong tá»•ng sá»‘ {{ $orders->total() }} Ä‘Æ¡n hÃ ng
                </div>
                {{ $orders->links() }}
            </div>
        @else
            <div class="text-center py-5">
                <i class="fas fa-shopping-cart display-1 text-muted mb-3"></i>
                <h4 class="mt-3">ChÆ°a cÃ³ Ä‘Æ¡n hÃ ng</h4>
                <p class="text-muted">ÄÆ¡n hÃ ng tá»« khÃ¡ch hÃ ng sáº½ xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢y.</p>
            </div>
        @endif
    </div>
</div>
@endsection

@push('scripts')
<script>
    // Initialize tooltips
    document.addEventListener('DOMContentLoaded', function() {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
</script>
@endpush

----------------------------------------
ğŸ“„ FILE: resources\views\admin\orders\show.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Order ' . $order->order_code)

@section('content')
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Order: {{ $order->order_code }}</h1>
    <div>
        <a href="{{ route('admin.orders.index') }}" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Back to Orders
        </a>
    </div>
</div>

<div class="row">
    <div class="col-md-8">
        <!-- Order Items -->
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">Order Items</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach($order->items as $item)
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        @if($item->product->primaryImage)
                                            <img src="{{ asset($item->product->primaryImage->image_path) }}" 
                                                 alt="{{ $item->product->name }}" width="50" height="50" 
                                                 class="rounded me-2" style="object-fit: cover;">
                                        @endif
                                        <div>
                                            <strong>{{ $item->product->name }}</strong><br>
                                            <small class="text-muted">SKU: {{ $item->product->sku }}</small>
                                        </div>
                                    </div>
                                </td>
                                <td>${{ number_format($item->price, 2) }}</td>
                                <td>{{ $item->quantity }}</td>
                                <td>${{ number_format($item->total, 2) }}</td>
                            </tr>
                            @endforeach
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="3" class="text-end"><strong>Subtotal:</strong></td>
                                <td><strong>${{ number_format($order->total_amount, 2) }}</strong></td>
                            </tr>
                            <tr>
                                <td colspan="3" class="text-end"><strong>Shipping Fee:</strong></td>
                                <td><strong>${{ number_format($order->shipping_fee, 2) }}</strong></td>
                            </tr>
                            <tr>
                                <td colspan="3" class="text-end"><strong>Grand Total:</strong></td>
                                <td><strong>${{ number_format($order->grand_total, 2) }}</strong></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>

        <!-- Shipping Information -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">Shipping Information</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Name:</strong> {{ $order->shipping_name }}</p>
                        <p><strong>Phone:</strong> {{ $order->shipping_phone }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Address:</strong></p>
                        <p>{{ $order->shipping_address }}</p>
                    </div>
                </div>
                @if($order->note)
                <div class="row">
                    <div class="col-12">
                        <p><strong>Note:</strong> {{ $order->note }}</p>
                    </div>
                </div>
                @endif
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <!-- Order Status -->
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">Order Status</h5>
            </div>
            <div class="card-body">
                <form action="{{ route('admin.orders.update', $order) }}" method="POST">
                    @csrf
                    @method('PUT')
                    <div class="mb-3">
                        <label for="status" class="form-label">Update Status</label>
                        <select class="form-control" id="status" name="status">
                            <option value="pending" {{ $order->status == 'pending' ? 'selected' : '' }}>Pending</option>
                            <option value="confirmed" {{ $order->status == 'confirmed' ? 'selected' : '' }}>Confirmed</option>
                            <option value="shipping" {{ $order->status == 'shipping' ? 'selected' : '' }}>Shipping</option>
                            <option value="delivered" {{ $order->status == 'delivered' ? 'selected' : '' }}>Delivered</option>
                            <option value="cancelled" {{ $order->status == 'cancelled' ? 'selected' : '' }}>Cancelled</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Update Status</button>
                </form>

                <hr>

                <div class="order-timeline mt-4">
                    <h6>Order Timeline</h6>
                    <div class="mt-3">
                        <small class="d-block text-muted">Created: {{ $order->created_at->format('M d, Y H:i') }}</small>
                        <small class="d-block text-muted">Updated: {{ $order->updated_at->format('M d, Y H:i') }}</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer Information -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">Customer Information</h5>
            </div>
            <div class="card-body">
                @if($order->user)
                    <p><strong>Name:</strong> {{ $order->user->name }}</p>
                    <p><strong>Email:</strong> {{ $order->user->email }}</p>
                    <p><strong>Member since:</strong> {{ $order->user->created_at->format('M d, Y') }}</p>
                @else
                    <p class="text-muted">Guest order</p>
                @endif
            </div>
        </div>
    </div>
</div>
@endsection

============================================================
ğŸ“ resources\views\admin\products
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\admin\products\create.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'ThÃªm sáº£n pháº©m má»›i')
@section('page-title', 'ThÃªm sáº£n pháº©m má»›i')

@section('content')
@include('admin.products.form')
@endsection

----------------------------------------
ğŸ“„ FILE: resources\views\admin\products\edit.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Chá»‰nh sá»­a sáº£n pháº©m')
@section('page-title', 'Chá»‰nh sá»­a sáº£n pháº©m')

@section('content')
@include('admin.products.form')
@endsection

----------------------------------------
ğŸ“„ FILE: resources\views\admin\products\form.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', isset($product) ? 'Chá»‰nh sá»­a sáº£n pháº©m' : 'ThÃªm sáº£n pháº©m má»›i')
@section('page-title', isset($product) ? 'Chá»‰nh sá»­a sáº£n pháº©m' : 'ThÃªm sáº£n pháº©m má»›i')

@push('styles')
<style>
    .form-card {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        padding: 30px;
        margin-bottom: 25px;
    }

    .form-section-title {
        font-size: 18px;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid #f0f0f0;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .form-section-title i {
        color: var(--primary-color);
    }

    .form-label {
        font-weight: 600;
        color: #495057;
        margin-bottom: 8px;
        font-size: 14px;
    }

    .form-label .required {
        color: #dc3545;
    }

    .form-control, .form-select {
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 10px 15px;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    .form-control:focus, .form-select:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 0.2rem rgba(139, 115, 85, 0.15);
    }

    /* Image Upload Section */
    .image-upload-section {
        border: 2px dashed #e0e0e0;
        border-radius: 12px;
        padding: 30px;
        text-align: center;
        transition: all 0.3s ease;
        background: #f8f9fa;
        cursor: pointer;
        position: relative;
    }

    .image-upload-section:hover {
        border-color: var(--primary-color);
        background: rgba(139, 115, 85, 0.05);
    }

    .upload-icon {
        font-size: 48px;
        color: var(--primary-color);
        margin-bottom: 15px;
    }

    .upload-text h6 {
        color: #2c3e50;
        font-weight: 600;
        margin-bottom: 8px;
    }

    .upload-text p {
        color: #6c757d;
        font-size: 13px;
        margin: 0;
    }

    #productImages {
        display: none;
    }

    /* Image Preview */
    .image-preview-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
        margin-top: 20px;
    }

    .image-preview-item {
        position: relative;
        border-radius: 10px;
        overflow: hidden;
        border: 2px solid #e0e0e0;
        aspect-ratio: 1;
        background: #f8f9fa;
    }

    .image-preview-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .image-preview-item .remove-image {
        position: absolute;
        top: 8px;
        right: 8px;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: rgba(220, 53, 69, 0.9);
        color: #fff;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0;
        transition: all 0.3s ease;
        font-size: 14px;
    }

    .image-preview-item:hover .remove-image {
        opacity: 1;
    }

    .image-preview-item .primary-badge {
        position: absolute;
        bottom: 8px;
        left: 8px;
        background: var(--primary-color);
        color: #fff;
        padding: 4px 10px;
        border-radius: 15px;
        font-size: 11px;
        font-weight: 600;
    }

    /* Action Buttons */
    .action-buttons-section {
        background: #fff;
        padding: 20px 30px;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        bottom: 20px;
        z-index: 100;
    }

    .btn-save {
        background: var(--primary-color);
        color: #fff;
        padding: 12px 30px;
        border-radius: 10px;
        border: none;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .btn-save:hover {
        background: #6d5a43;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(139, 115, 85, 0.3);
    }

    .btn-cancel {
        background: #6c757d;
        color: #fff;
        padding: 12px 30px;
        border-radius: 10px;
        border: none;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .btn-cancel:hover {
        background: #5a6268;
    }

    /* Switch Toggle */
    .form-switch {
        padding-left: 2.5em;
    }

    .form-switch .form-check-input {
        width: 3em;
        height: 1.5em;
        cursor: pointer;
    }

    .form-switch .form-check-input:checked {
        background-color: var(--primary-color);
        border-color: var(--primary-color);
    }
</style>
@endpush

@section('content')
<div class="container-fluid">
    <form action="{{ isset($product) ? route('admin.products.update', $product->id) : route('admin.products.store') }}" 
          method="POST" 
          id="productForm" 
          enctype="multipart/form-data">
        @csrf
        @if(isset($product))
            @method('PUT')
        @endif

        <div class="row">
            <!-- Left Column -->
            <div class="col-lg-8">
                <!-- Basic Information -->
                <div class="form-card">
                    <div class="form-section-title">
                        <i class="fas fa-info-circle"></i>
                        ThÃ´ng tin cÆ¡ báº£n
                    </div>

                    <div class="mb-3">
                        <label class="form-label">TÃªn sáº£n pháº©m <span>*</span></label>
                        <input type="text" 
                               class="form-control @error('name') is-invalid @enderror" 
                               name="name" 
                               id="productName"
                               value="{{ old('name', $product->name ?? '') }}" 
                               placeholder="Nháº­p tÃªn sáº£n pháº©m">
                        @error('name')
                            <div class="invalid-feedback">{{ $message }}</div>
                        @enderror
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Slug</label>
                        <input type="text" 
                               class="form-control @error('slug') is-invalid @enderror" 
                               name="slug" 
                               id="productSlug"
                               value="{{ old('slug', $product->slug ?? '') }}" 
                               placeholder="ten-san-pham">
                        @error('slug')
                            <div class="invalid-feedback">{{ $message }}</div>
                        @enderror
                    </div>

                    <div class="mb-3">
                        <label class="form-label">MÃ´ táº£</label>
                        <textarea class="form-control @error('description') is-invalid @enderror" 
                                  name="description" 
                                  rows="4" 
                                  placeholder="MÃ´ táº£ chi tiáº¿t vá» sáº£n pháº©m">{{ old('description', $product->description ?? '') }}</textarea>
                        @error('description')
                            <div class="invalid-feedback">{{ $message }}</div>
                        @enderror
                    </div>
                </div>

                <!-- Pricing & Inventory -->
                <div class="form-card">
                    <div class="form-section-title">
                        <i class="fas fa-tags"></i>
                        GiÃ¡ & Tá»“n kho
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">GiÃ¡ gá»‘c <span class="required">*</span></label>
                                <input type="number" 
                                       class="form-control @error('price') is-invalid @enderror" 
                                       name="price" 
                                       value="{{ old('price', $product->price ?? '') }}" 
                                       placeholder="0.00"
                                       step="0.01">
                                @error('price')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">GiÃ¡ khuyáº¿n mÃ£i</label>
                                <input type="number" 
                                       class="form-control @error('sale_price') is-invalid @enderror" 
                                       name="sale_price" 
                                       value="{{ old('sale_price', $product->sale_price ?? '') }}" 
                                       placeholder="0.00">
                                @error('sale_price')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">SKU <span>*</span></label>
                                <input type="text" 
                                       class="form-control @error('sku') is-invalid @enderror" 
                                       name="sku" 
                                       value="{{ old('sku', $product->sku ?? '') }}" 
                                       placeholder="MÃ£ sáº£n pháº©m">
                                @error('sku')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Sá»‘ lÆ°á»£ng <span>*</span></label>
                                <input type="number" 
                                       class="form-control @error('in_stock') is-invalid @enderror" 
                                       name="in_stock" 
                                       value="{{ old('in_stock', $product->in_stock ?? 0) }}" 
                                       placeholder="0">
                                @error('in_stock')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product Images -->
                <div class="form-card">
                    <div class="form-section-title">
                        <i class="fas fa-images"></i>
                        HÃ¬nh áº£nh sáº£n pháº©m
                    </div>

                    <div class="image-upload-section" id="imageUploadArea" onclick="document.getElementById('productImages').click()">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <div class="upload-text">
                            <h6>KÃ©o tháº£ áº£nh vÃ o Ä‘Ã¢y hoáº·c click Ä‘á»ƒ chá»n</h6>
                            <p>Há»— trá»£: JPG, PNG, WEBP. Tá»‘i Ä‘a 5MB má»—i áº£nh</p>
                        </div>
                        <input type="file" 
                               id="productImages" 
                               name="images[]" 
                               multiple 
                               accept="image/*"
                               onchange="handleImageUpload(this.files)">
                    </div>

                    <div class="image-preview-container" id="imagePreviewContainer">
                        @if(isset($product) && $product->images->count() > 0)
                            @foreach($product->images as $image)
                            <div class="image-preview-item">
                                <img src="{{ asset($image->image_path) }}" alt="Product Image">
                                @if($image->is_primary)
                                    <span class="primary-badge">áº¢nh chÃ­nh</span>
                                @endif
                                <button type="button" class="remove-image" onclick="removeImage(this)">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            @endforeach
                        @endif
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="col-lg-4">
                <!-- Status & Organization -->
                <div class="form-card">
                    <div class="form-section-title">
                        <i class="fas fa-toggle-on"></i>
                        Tráº¡ng thÃ¡i & PhÃ¢n loáº¡i
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Danh má»¥c <span class="required">*</span></label>
                        <select class="form-select @error('category_id') is-invalid @enderror" name="category_id">
                            <option value="">Chá»n danh má»¥c</option>
                            @foreach($categories as $category)
                                <option value="{{ $category->id }}" 
                                    {{ old('category_id', $product->category_id ?? '') == $category->id ? 'selected' : '' }}>
                                    {{ $category->name }}
                                </option>
                            @endforeach
                        </select>
                        @error('category_id')
                            <div class="invalid-feedback">{{ $message }}</div>
                        @enderror
                    </div>

                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" 
                                   type="checkbox" 
                                   id="statusSwitch" 
                                   name="is_active" 
                                   value="1"
                                   {{ old('is_active', $product->is_active ?? 1) ? 'checked' : '' }}>
                            <label class="form-check-label" for="statusSwitch">
                                Hiá»ƒn thá»‹ sáº£n pháº©m
                            </label>
                        </div>
                    </div>

                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" 
                                   type="checkbox" 
                                   id="featuredSwitch" 
                                   name="featured" 
                                   value="1"
                                   {{ old('featured', $product->featured ?? 0) ? 'checked' : '' }}>
                            <label class="form-check-label" for="featuredSwitch">
                                Sáº£n pháº©m ná»•i báº­t
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Product Attributes -->
                <div class="form-card">
                    <div class="form-section-title">
                        <i class="fas fa-cube"></i>
                        Thuá»™c tÃ­nh sáº£n pháº©m
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Cháº¥t liá»‡u</label>
                        <input type="text" 
                               class="form-control" 
                               name="material" 
                               value="{{ old('material', $product->material ?? '') }}" 
                               placeholder="VÃ­ dá»¥: SÃ¡p Ä‘áº­u nÃ nh">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">HÆ°Æ¡ng thÆ¡m</label>
                        <input type="text" 
                               class="form-control" 
                               name="fragrance" 
                               value="{{ old('fragrance', $product->fragrance ?? '') }}" 
                               placeholder="VÃ­ dá»¥: Lavender, Vanilla">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Trá»ng lÆ°á»£ng (gram)</label>
                        <input type="number" 
                               class="form-control" 
                               name="weight" 
                               value="{{ old('weight', $product->weight ?? '') }}" 
                               placeholder="0"
                               step="0.01">
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons-section">
            <a href="{{ route('admin.products.index') }}" class="btn btn-cancel">
                <i class="fas fa-arrow-left me-2"></i>Quay láº¡i
            </a>
            <button type="submit" class="btn btn-save">
                <i class="fas fa-save me-2"></i>
                {{ isset($product) ? 'Cáº­p nháº­t sáº£n pháº©m' : 'ThÃªm sáº£n pháº©m' }}
            </button>
        </div>
    </form>
</div>
@endsection

@push('scripts')
<script>
    // Auto-generate slug from product name
    document.getElementById('productName').addEventListener('input', function() {
        const name = this.value;
        const slugField = document.getElementById('productSlug');

        // Convert Vietnamese to non-accented
        const vnString = name;
        const accentMap = {
            'Ã ': 'a', 'Ã¡': 'a', 'áº¡': 'a', 'áº£': 'a', 'Ã£': 'a', 'Ã¢': 'a', 'áº§': 'a', 'áº¥': 'a', 'áº­': 'a', 'áº©': 'a', 'áº«': 'a', 'Äƒ': 'a', 'áº±': 'a', 'áº¯': 'a', 'áº·': 'a', 'áº³': 'a', 'áºµ': 'a',
            'Ã¨': 'e', 'Ã©': 'e', 'áº¹': 'e', 'áº»': 'e', 'áº½': 'e', 'Ãª': 'e', 'á»': 'e', 'áº¿': 'e', 'á»‡': 'e', 'á»ƒ': 'e', 'á»…': 'e',
            'Ã¬': 'i', 'Ã­': 'i', 'á»‹': 'i', 'á»‰': 'i', 'Ä©': 'i',
            'Ã²': 'o', 'Ã³': 'o', 'á»': 'o', 'á»': 'o', 'Ãµ': 'o', 'Ã´': 'o', 'á»“': 'o', 'á»‘': 'o', 'á»™': 'o', 'á»•': 'o', 'á»—': 'o', 'Æ¡': 'o', 'á»': 'o', 'á»›': 'o', 'á»£': 'o', 'á»Ÿ': 'o', 'á»¡': 'o',
            'Ã¹': 'u', 'Ãº': 'u', 'á»¥': 'u', 'á»§': 'u', 'Å©': 'u', 'Æ°': 'u', 'á»«': 'u', 'á»©': 'u', 'á»±': 'u', 'á»­': 'u', 'á»¯': 'u',
            'á»³': 'y', 'Ã½': 'y', 'á»µ': 'y', 'á»·': 'y', 'á»¹': 'y',
            'Ä‘': 'd',
            'Ã€': 'A', 'Ã': 'A', 'áº ': 'A', 'áº¢': 'A', 'Ãƒ': 'A', 'Ã‚': 'A', 'áº¦': 'A', 'áº¤': 'A', 'áº¬': 'A', 'áº¨': 'A', 'áºª': 'A', 'Ä‚': 'A', 'áº°': 'A', 'áº®': 'A', 'áº¶': 'A', 'áº²': 'A', 'áº´': 'A',
            'Ãˆ': 'E', 'Ã‰': 'E', 'áº¸': 'E', 'áºº': 'E', 'áº¼': 'E', 'ÃŠ': 'E', 'á»€': 'E', 'áº¾': 'E', 'á»†': 'E', 'á»‚': 'E', 'á»„': 'E',
            'ÃŒ': 'I', 'Ã': 'I', 'á»Š': 'I', 'á»ˆ': 'I', 'Ä¨': 'I',
            'Ã’': 'O', 'Ã“': 'O', 'á»Œ': 'O', 'á»': 'O', 'Ã•': 'O', 'Ã”': 'O', 'á»’': 'O', 'á»': 'O', 'á»˜': 'O', 'á»”': 'O', 'á»–': 'O', 'Æ ': 'O', 'á»œ': 'O', 'á»š': 'O', 'á»¢': 'O', 'á»': 'O', 'á» ': 'O',
            'Ã™': 'U', 'Ãš': 'U', 'á»¤': 'U', 'á»¦': 'U', 'Å¨': 'U', 'Æ¯': 'U', 'á»ª': 'U', 'á»¨': 'U', 'á»°': 'U', 'á»¬': 'U', 'á»®': 'U',
            'á»²': 'Y', 'Ã': 'Y', 'á»´': 'Y', 'á»¶': 'Y', 'á»¸': 'Y',
            'Ä': 'D'
        };

        let slug = vnString;
        for (let char in accentMap) {
            slug = slug.replace(new RegExp(char, 'g'), accentMap[char]);
        }

        slug = slug.toLowerCase()
            .trim()
            .replace(/[^\w\s-]/g, '')
            .replace(/[\s_-]+/g, '-')
            .replace(/^-+|-+$/g, '');

        if (!slugField.value || slugField.dataset.autoFilled) {
            slugField.value = slug;
            slugField.dataset.autoFilled = 'true';
        }
    });

    // Reset auto-fill flag when user manually edits slug
    document.getElementById('productSlug').addEventListener('input', function() {
        this.dataset.autoFilled = 'false';
    });

    // Handle image upload and preview
    function handleImageUpload(files) {
        const previewContainer = document.getElementById('imagePreviewContainer');

        Array.from(files).forEach((file, index) => {
            if (!file.type.startsWith('image/')) {
                alert('File ' + file.name + ' khÃ´ng pháº£i lÃ  hÃ¬nh áº£nh!');
                return;
            }

            // Kiá»ƒm tra kÃ­ch thÆ°á»›c file (5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('File ' + file.name + ' vÆ°á»£t quÃ¡ kÃ­ch thÆ°á»›c cho phÃ©p (5MB)!');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                const previewItem = document.createElement('div');
                previewItem.className = 'image-preview-item';
                previewItem.setAttribute('data-index', index);

                const img = document.createElement('img');
                img.src = e.target.result;

                const removeBtn = document.createElement('button');
                removeBtn.type = 'button';
                removeBtn.className = 'remove-image';
                removeBtn.innerHTML = '<i class="fas fa-times"></i>';
                removeBtn.onclick = function() {
                    previewItem.remove();
                };

                previewItem.appendChild(img);
                previewItem.appendChild(removeBtn);
                previewContainer.appendChild(previewItem);
            };
            reader.readAsDataURL(file);
        });
    }

    // Remove image
    function removeImage(button) {
        button.closest('.image-preview-item').remove();
    }

    // Drag and drop functionality
    const uploadArea = document.getElementById('imageUploadArea');

    uploadArea.addEventListener('dragover', function(e) {
        e.preventDefault();
        e.stopPropagation();
        this.style.borderColor = 'var(--primary-color)';
        this.style.background = 'rgba(139, 115, 85, 0.1)';
    });

    uploadArea.addEventListener('dragleave', function(e) {
        e.preventDefault();
        e.stopPropagation();
        this.style.borderColor = '#e0e0e0';
        this.style.background = '#f8f9fa';
    });

    uploadArea.addEventListener('drop', function(e) {
        e.preventDefault();
        e.stopPropagation();
        this.style.borderColor = '#e0e0e0';
        this.style.background = '#f8f9fa';

        const files = e.dataTransfer.files;
        handleImageUpload(files);

        // Update file input
        const dataTransfer = new DataTransfer();
        Array.from(files).forEach(file => dataTransfer.items.add(file));
        document.getElementById('productImages').files = dataTransfer.files;
    });

    // Form validation
    document.getElementById('productForm').addEventListener('submit', function(e) {
        const requiredFields = ['name', 'price', 'sku', 'category_id'];
        let isValid = true;

        requiredFields.forEach(fieldName => {
            const field = document.querySelector(`[name="${fieldName}"]`);
            if (!field || !field.value.trim()) {
                isValid = false;
                if (field) {
                    field.classList.add('is-invalid');
                }
            }
        });

        if (!isValid) {
            e.preventDefault();
            alert('Vui lÃ²ng Ä‘iá»n Ä‘áº§y Ä‘á»§ cÃ¡c trÆ°á»ng báº¯t buá»™c!');
        }
    });
</script>
@endpush

----------------------------------------
ğŸ“„ FILE: resources\views\admin\products\index.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Quáº£n lÃ½ sáº£n pháº©m')
@section('page-title', 'Quáº£n lÃ½ sáº£n pháº©m')

@push('styles')
<style>
    .product-table-img {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .filter-card {
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        margin-bottom: 20px;
        border: 1px solid #f0f0f0;
    }

    .stats-badge {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
    }

    .action-btn-group {
        display: flex;
        gap: 5px;
    }

    .table-card {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        overflow: hidden;
    }
</style>
@endpush

@section('content')
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3">
    <div>
        <h1 class="h2 mb-0">Quáº£n lÃ½ sáº£n pháº©m</h1>
        <p class="text-muted small mb-0">Quáº£n lÃ½ toÃ n bá»™ sáº£n pháº©m trong há»‡ thá»‘ng</p>
    </div>
    <a href="{{ route('admin.products.create') }}" class="btn btn-primary">
        <i class="fas fa-plus-circle me-1"></i> ThÃªm sáº£n pháº©m
    </a>
</div>

<!-- Filters -->
<div class="filter-card">
    <form method="GET" action="{{ route('admin.products.index') }}">
        <div class="row g-3">
            <div class="col-md-3">
                <label class="form-label small text-muted">TÃ¬m kiáº¿m</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                    <input type="text" name="search" class="form-control" placeholder="TÃªn sáº£n pháº©m, SKU..." value="{{ request('search') }}">
                </div>
            </div>
            <div class="col-md-2">
                <label class="form-label small text-muted">Danh má»¥c</label>
                <select name="category_id" class="form-select">
                    <option value="">Táº¥t cáº£</option>
                    @foreach($categories as $category)
                        <option value="{{ $category->id }}" {{ request('category_id') == $category->id ? 'selected' : '' }}>
                            {{ $category->name }}
                        </option>
                    @endforeach
                </select>
            </div>
            <div class="col-md-2">
                <label class="form-label small text-muted">Tráº¡ng thÃ¡i</label>
                <select name="status" class="form-select">
                    <option value="">Táº¥t cáº£</option>
                    <option value="1" {{ request('status') == '1' ? 'selected' : '' }}>Hoáº¡t Ä‘á»™ng</option>
                    <option value="0" {{ request('status') == '0' ? 'selected' : '' }}>Táº¡m ngá»«ng</option>
                </select>
            </div>
            <div class="col-md-2">
                <label class="form-label small text-muted">Ná»•i báº­t</label>
                <select name="featured" class="form-select">
                    <option value="">Táº¥t cáº£</option>
                    <option value="1" {{ request('featured') == '1' ? 'selected' : '' }}>Ná»•i báº­t</option>
                    <option value="0" {{ request('featured') == '0' ? 'selected' : '' }}>ThÆ°á»ng</option>
                </select>
            </div>
            <div class="col-md-2">
                <label class="form-label small text-muted">Tá»“n kho</label>
                <select name="stock" class="form-select">
                    <option value="">Táº¥t cáº£</option>
                    <option value="low" {{ request('stock') == 'low' ? 'selected' : '' }}>Sáº¯p háº¿t</option>
                    <option value="out" {{ request('stock') == 'out' ? 'selected' : '' }}>Háº¿t hÃ ng</option>
                </select>
            </div>
            <div class="col-md-1 d-flex align-items-end">
                <button type="submit" class="btn btn-outline-primary w-100">
                    <i class="fas fa-filter"></i>
                </button>
            </div>
        </div>
    </form>
</div>

<!-- Products Table -->
<div class="table-card">
    <div class="card-body p-0">
        @if($products->count() > 0)
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th width="80">HÃ¬nh áº£nh</th>
                            <th>ThÃ´ng tin sáº£n pháº©m</th>
                            <th width="120">Danh má»¥c</th>
                            <th width="120">GiÃ¡ bÃ¡n</th>
                            <th width="80" class="text-center">Tá»“n kho</th>
                            <th width="100" class="text-center">Tráº¡ng thÃ¡i</th>
                            <th width="80" class="text-center">Ná»•i báº­t</th>
                            <th width="150" class="text-center">Thao tÃ¡c</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach($products as $product)
                        <tr>
                            <td>
                                @if($product->primaryImage)
                                    <img src="{{ asset($product->primaryImage->image_path) }}" alt="{{ $product->name }}"
                                         class="product-table-img">
                                @else
                                    <div class="bg-light rounded d-flex align-items-center justify-content-center"
                                         style="width: 60px; height: 60px;">
                                        <i class="fas fa-image text-muted"></i>
                                    </div>
                                @endif
                            </td>
                            <td>
                                <div class="fw-bold text-dark">{{ $product->name }}</div>
                                <small class="text-muted d-block">SKU: <code>{{ $product->sku }}</code></small>
                                @if($product->fragrance)
                                    <small class="text-info d-block">
                                        <i class="fas fa-spray-can"></i> {{ $product->fragrance }}
                                    </small>
                                @endif
                            </td>
                            <td>
                                <span class="badge bg-secondary rounded-pill">{{ $product->category->name }}</span>
                            </td>
                            <td>
                                @if($product->sale_price)
                                    <div class="fw-bold text-danger">${{ number_format($product->sale_price, 2) }}</div>
                                    <small class="text-muted text-decoration-line-through">${{ number_format($product->price, 2) }}</small>
                                @else
                                    <div class="fw-bold text-dark">${{ number_format($product->price, 2) }}</div>
                                @endif
                            </td>
                            <td class="text-center">
                                <span class="stats-badge {{ $product->in_stock > 10 ? 'bg-success' : ($product->in_stock > 0 ? 'bg-warning text-dark' : 'bg-danger') }} text-white">
                                    {{ $product->in_stock }}
                                </span>
                            </td>
                            <td class="text-center">
                                <span class="badge {{ $product->is_active ? 'bg-success' : 'bg-secondary' }} rounded-pill">
                                    {{ $product->is_active ? 'Hoáº¡t Ä‘á»™ng' : 'Táº¡m ngá»«ng' }}
                                </span>
                            </td>
                            <td class="text-center">
                                @if($product->featured)
                                    <i class="fas fa-star text-warning fs-5"></i>
                                @else
                                    <i class="far fa-star text-muted fs-5"></i>
                                @endif
                            </td>
                            <td>
                                <div class="action-btn-group justify-content-center">
                                    <a href="{{ route('admin.products.show', $product) }}"
                                       class="btn btn-sm btn-outline-info"
                                       title="Xem chi tiáº¿t"
                                       data-bs-toggle="tooltip">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                    <a href="{{ route('admin.products.edit', $product) }}"
                                       class="btn btn-sm btn-outline-primary"
                                       title="Chá»‰nh sá»­a"
                                       data-bs-toggle="tooltip">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <form action="{{ route('admin.products.destroy', $product) }}"
                                          method="POST"
                                          id="delete-form-{{ $product->id }}"
                                          class="d-inline">
                                        @csrf
                                        @method('DELETE')
                                        <button type="button"
                                                class="btn btn-sm btn-outline-danger"
                                                title="XÃ³a"
                                                data-bs-toggle="tooltip"
                                                onclick="confirmDelete('delete-form-{{ $product->id }}', 'Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a sáº£n pháº©m nÃ y? Táº¥t cáº£ dá»¯ liá»‡u liÃªn quan sáº½ bá»‹ xÃ³a.')">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                        @endforeach
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="d-flex justify-content-between align-items-center p-3 border-top">
                <div class="text-muted small">
                    Hiá»ƒn thá»‹ {{ $products->firstItem() }} Ä‘áº¿n {{ $products->lastItem() }}
                    trong tá»•ng sá»‘ {{ $products->total() }} sáº£n pháº©m
                </div>
                {{ $products->links() }}
            </div>
        @else
            <div class="text-center py-5">
                <i class="fas fa-box-open display-1 text-muted mb-3"></i>
                <h4 class="mt-3">KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m</h4>
                <p class="text-muted">Báº¯t Ä‘áº§u báº±ng cÃ¡ch táº¡o sáº£n pháº©m Ä‘áº§u tiÃªn cá»§a báº¡n.</p>
                <a href="{{ route('admin.products.create') }}" class="btn btn-primary mt-2">
                    <i class="fas fa-plus-circle me-1"></i> Táº¡o sáº£n pháº©m má»›i
                </a>
            </div>
        @endif
    </div>
</div>
@endsection

@push('scripts')
<script>
    // Initialize tooltips
    document.addEventListener('DOMContentLoaded', function() {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
</script>
@endpush

----------------------------------------
ğŸ“„ FILE: resources\views\admin\products\show.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', $product->name)
@section('page-title', 'Chi tiáº¿t sáº£n pháº©m')

@push('styles')
<style>
    .product-detail-card {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        margin-bottom: 20px;
    }

    .product-carousel img {
        border-radius: 12px;
        height: 450px;
        object-fit: cover;
    }

    .thumbnail-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        gap: 10px;
        margin-top: 15px;
    }

    .thumbnail-item {
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
        border: 3px solid transparent;
        transition: all 0.3s ease;
    }

    .thumbnail-item:hover,
    .thumbnail-item.active {
        border-color: var(--primary-color);
        box-shadow: 0 3px 10px rgba(139, 115, 85, 0.3);
    }

    .thumbnail-item img {
        width: 100%;
        height: 80px;
        object-fit: cover;
    }

    .detail-section {
        margin-bottom: 25px;
        padding-bottom: 20px;
        border-bottom: 1px solid #f0f0f0;
    }

    .detail-section:last-child {
        border-bottom: none;
    }

    .info-label {
        font-weight: 600;
        color: #6c757d;
        margin-bottom: 8px;
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .info-value {
        color: #2c3e50;
        font-size: 15px;
    }

    .review-item {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 15px;
        border-left: 3px solid var(--primary-color);
    }

    .review-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }

    .reviewer-name {
        font-weight: 600;
        color: #2c3e50;
    }

    .rating-stars {
        color: #ffc107;
    }

    .action-buttons {
        position: sticky;
        top: 80px;
        background: #fff;
        padding: 15px;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        margin-bottom: 20px;
    }
</style>
@endpush

@section('content')
<div class="container-fluid">
    <!-- Header & Actions -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="mb-1">{{ $product->name }}</h2>
            <p class="text-muted mb-0">
                <small>SKU: <code>{{ $product->sku }}</code></small>
            </p>
        </div>
        <div class="action-buttons-group d-flex gap-2">
            <a href="{{ route('admin.products.edit', $product) }}" class="btn btn-primary">
                <i class="fas fa-edit me-1"></i> Chá»‰nh sá»­a
            </a>
            <a href="{{ route('admin.products.index') }}" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left me-1"></i> Quay láº¡i
            </a>
        </div>
    </div>

    <div class="row">
        <!-- Left Column: Images -->
        <div class="col-lg-5">
            <div class="product-detail-card p-3">
                @if($product->images->count() > 0)
                    <!-- Main Carousel -->
                    <div id="productCarousel" class="carousel slide product-carousel" data-bs-ride="false">
                        <div class="carousel-inner">
                            @foreach($product->images as $index => $image)
                            <div class="carousel-item {{ $index === 0 ? 'active' : '' }}">
                                <img src="{{ asset($image->image_path) }}" class="d-block w-100"
                                     alt="{{ $image->alt_text ?? $product->name }}">
                                @if($image->is_primary)
                                    <div class="position-absolute top-0 start-0 m-3">
                                        <span class="badge bg-primary">áº¢nh chÃ­nh</span>
                                    </div>
                                @endif
                            </div>
                            @endforeach
                        </div>
                        @if($product->images->count() > 1)
                            <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon"></span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                                <span class="carousel-control-next-icon"></span>
                            </button>
                        @endif
                    </div>

                    <!-- Thumbnails -->
                    <div class="thumbnail-grid">
                        @foreach($product->images as $index => $image)
                        <div class="thumbnail-item {{ $index === 0 ? 'active' : '' }}"
                             data-index="{{ $index }}"
                             onclick="changeSlide({{ $index }})">
                            <img src="{{ asset($image->image_path) }}" alt="{{ $image->alt_text ?? $product->name }}">
                        </div>
                        @endforeach
                    </div>
                @else
                    <div class="text-center py-5">
                        <i class="fas fa-image display-1 text-muted"></i>
                        <p class="text-muted mt-3">ChÆ°a cÃ³ hÃ¬nh áº£nh</p>
                    </div>
                @endif
            </div>
        </div>

        <!-- Right Column: Details -->
        <div class="col-lg-7">
            <!-- Product Information -->
            <div class="product-detail-card p-4">
                <h4 class="mb-4">ThÃ´ng tin sáº£n pháº©m</h4>

                <!-- Price Section -->
                <div class="detail-section">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="info-label">GiÃ¡ bÃ¡n</div>
                            @if($product->sale_price)
                                <h3 class="text-danger mb-1">${{ number_format($product->sale_price, 2) }}</h3>
                                <p class="text-muted text-decoration-line-through">${{ number_format($product->price, 2) }}</p>
                            @else
                                <h3 class="text-dark mb-0">${{ number_format($product->price, 2) }}</h3>
                            @endif
                        </div>
                        <div class="col-md-6">
                            <div class="info-label">Tá»“n kho</div>
                            <h4>
                                <span class="badge {{ $product->in_stock > 10 ? 'bg-success' : ($product->in_stock > 0 ? 'bg-warning text-dark' : 'bg-danger') }} fs-6">
                                    {{ $product->in_stock }} sáº£n pháº©m
                                </span>
                            </h4>
                        </div>
                    </div>
                </div>

                <!-- Status Section -->
                <div class="detail-section">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="info-label">Danh má»¥c</div>
                            <span class="badge bg-secondary fs-6">{{ $product->category->name }}</span>
                        </div>
                        <div class="col-md-4">
                            <div class="info-label">Tráº¡ng thÃ¡i</div>
                            <span class="badge {{ $product->is_active ? 'bg-success' : 'bg-secondary' }} fs-6">
                                {{ $product->is_active ? 'Hoáº¡t Ä‘á»™ng' : 'Táº¡m ngá»«ng' }}
                            </span>
                        </div>
                        <div class="col-md-4">
                            <div class="info-label">Ná»•i báº­t</div>
                            @if($product->featured)
                                <i class="fas fa-star text-warning fs-4"></i>
                                <span class="text-muted">CÃ³</span>
                            @else
                                <i class="far fa-star text-muted fs-4"></i>
                                <span class="text-muted">KhÃ´ng</span>
                            @endif
                        </div>
                    </div>
                </div>

                <!-- Attributes Section -->
                @if($product->material || $product->fragrance || $product->weight)
                <div class="detail-section">
                    <div class="row">
                        @if($product->material)
                        <div class="col-md-4">
                            <div class="info-label">Cháº¥t liá»‡u</div>
                            <div class="info-value">{{ $product->material }}</div>
                        </div>
                        @endif

                        @if($product->fragrance)
                        <div class="col-md-4">
                            <div class="info-label">HÆ°Æ¡ng thÆ¡m</div>
                            <div class="info-value">
                                <i class="fas fa-spray-can text-info me-1"></i>
                                {{ $product->fragrance }}
                            </div>
                        </div>
                        @endif

                        @if($product->weight)
                        <div class="col-md-4">
                            <div class="info-label">Trá»ng lÆ°á»£ng</div>
                            <div class="info-value">{{ $product->weight }}g</div>
                        </div>
                        @endif
                    </div>
                </div>
                @endif

                <!-- Description -->
                @if($product->description)
                <div class="detail-section">
                    <div class="info-label">MÃ´ táº£ sáº£n pháº©m</div>
                    <p class="text-muted mb-0">{{ $product->description }}</p>
                </div>
                @endif

                <!-- Timestamps -->
                <div class="row text-muted small">
                    <div class="col-md-6">
                        <i class="fas fa-calendar-plus me-1"></i>
                        Táº¡o lÃºc: {{ $product->created_at->format('d/m/Y H:i') }}
                    </div>
                    <div class="col-md-6">
                        <i class="fas fa-calendar-edit me-1"></i>
                        Cáº­p nháº­t: {{ $product->updated_at->format('d/m/Y H:i') }}
                    </div>
                </div>
            </div>

            <!-- Reviews Section -->
            <div class="product-detail-card p-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="mb-0">
                        <i class="fas fa-star text-warning me-2"></i>
                        ÄÃ¡nh giÃ¡ sáº£n pháº©m ({{ $product->reviews->count() }})
                    </h5>
                    @if($product->reviews->count() > 0)
                        <a href="{{ route('admin.reviews.index') }}?product_id={{ $product->id }}"
                           class="btn btn-sm btn-outline-primary">
                            Xem táº¥t cáº£
                        </a>
                    @endif
                </div>

                @if($product->reviews->count() > 0)
                    @foreach($product->reviews->take(3) as $review)
                    <div class="review-item">
                        <div class="review-header">
                            <div>
                                <div class="reviewer-name">{{ $review->user->name }}</div>
                                <div class="rating-stars">
                                    @for($i = 1; $i <= 5; $i++)
                                        <i class="fas fa-star{{ $i <= $review->rating ? '' : '-o' }}"></i>
                                    @endfor
                                    <span class="text-muted small ms-1">({{ $review->rating }}/5)</span>
                                </div>
                            </div>
                            <span class="badge {{ $review->status == 'approved' ? 'bg-success' : 'bg-warning text-dark' }}">
                                {{ $review->status == 'approved' ? 'ÄÃ£ duyá»‡t' : 'Chá» duyá»‡t' }}
                            </span>
                        </div>
                        @if($review->comment)
                            <p class="mb-2 text-muted">{{ $review->comment }}</p>
                        @endif
                        <small class="text-muted">
                            <i class="fas fa-clock me-1"></i>
                            {{ $review->created_at->format('d/m/Y H:i') }}
                        </small>
                    </div>
                    @endforeach
                @else
                    <div class="text-center py-4">
                        <i class="fas fa-comments display-4 text-muted mb-3"></i>
                        <p class="text-muted mb-0">ChÆ°a cÃ³ Ä‘Ã¡nh giÃ¡ nÃ o</p>
                    </div>
                @endif
            </div>
        </div>
    </div>
</div>
@endsection

@push('scripts')
<script>
    function changeSlide(index) {
        const carousel = new bootstrap.Carousel(document.getElementById('productCarousel'));
        carousel.to(index);

        // Update active thumbnail
        document.querySelectorAll('.thumbnail-item').forEach(item => {
            item.classList.remove('active');
        });
        document.querySelector(`.thumbnail-item[data-index="${index}"]`).classList.add('active');
    }

    // Update active thumbnail on carousel slide
    const carouselElement = document.getElementById('productCarousel');
    if (carouselElement) {
        carouselElement.addEventListener('slid.bs.carousel', function (e) {
            const activeIndex = Array.from(e.target.querySelectorAll('.carousel-item')).indexOf(e.relatedTarget);
            document.querySelectorAll('.thumbnail-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`.thumbnail-item[data-index="${activeIndex}"]`).classList.add('active');
        });
    }
</script>
@endpush


============================================================
ğŸ“ resources\views\admin\profile
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\admin\profile\edit.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Há»“ sÆ¡ cÃ¡ nhÃ¢n')
@section('page-title', 'Há»“ sÆ¡ cÃ¡ nhÃ¢n')

@section('content')
<div class="container-fluid">
    <div class="row">
        <!-- Profile Info -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-body text-center">
                    <img src="{{ $user->avatar_url }}" alt="{{ $user->name }}" 
                         class="rounded-circle mb-3" 
                         style="width: 150px; height: 150px; object-fit: cover;">
                    <h4>{{ $user->name }}</h4>
                    <p class="text-muted">{{ $user->email }}</p>
                    
                    @if($user->role == 'admin')
                        <span class="badge bg-danger mb-3">Admin</span>
                    @else
                        <span class="badge bg-info mb-3">User</span>
                    @endif

                    <hr>

                    <div class="text-start">
                        <p><strong>Sá»‘ Ä‘iá»‡n thoáº¡i:</strong> {!! $user->phone ?? '<small>ChÆ°a cáº­p nháº­t</small>' !!}</p>
                        <p><strong>Äá»‹a chá»‰:</strong> {!! $user->address ?? '<small>ChÆ°a cáº­p nháº­t</small>' !!}</p>
                        <p><strong>ÄÄƒng nháº­p láº§n cuá»‘i:</strong><br>
                            {{ $user->last_login_at ? $user->last_login_at->format('d/m/Y H:i') : 'N/A' }}
                        </p>
                        <p><strong>NgÃ y táº¡o:</strong><br>
                            {{ $user->created_at->format('d/m/Y') }}
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Update Profile Form -->
        <div class="col-md-8">
            <!-- Update Info -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">Cáº­p nháº­t thÃ´ng tin</h5>
                </div>
                <div class="card-body">
                    <form action="{{ route('admin.profile.update') }}" method="POST" enctype="multipart/form-data">
                        @csrf
                        @method('PUT')

                        <div class="mb-3">
                            <label for="name" class="form-label">TÃªn <span class="text-danger">*</span></label>
                            <input type="text" name="name" id="name" 
                                   class="form-control @error('name') is-invalid @enderror" 
                                   value="{{ old('name', $user->name) }}">
                            @error('name')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
                            <input type="email" name="email" id="email" 
                                   class="form-control @error('email') is-invalid @enderror" 
                                   value="{{ old('email', $user->email) }}" >
                            @error('email')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="phone" class="form-label">Sá»‘ Ä‘iá»‡n thoáº¡i</label>
                            <input type="text" name="phone" id="phone" 
                                   class="form-control @error('phone') is-invalid @enderror" 
                                   value="{{ old('phone', $user->phone) }}">
                            @error('phone')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="address" class="form-label">Äá»‹a chá»‰</label>
                            <textarea name="address" id="address" rows="3" 
                                      class="form-control @error('address') is-invalid @enderror">{{ old('address', $user->address) }}</textarea>
                            @error('address')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="avatar" class="form-label">áº¢nh Ä‘áº¡i diá»‡n</label>
                            <input type="file" name="avatar" id="avatar" 
                                   class="form-control @error('avatar') is-invalid @enderror" 
                                   accept="image/*">
                            @error('avatar')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                            <small class="text-muted">Cho phÃ©p: JPG, PNG, GIF. Tá»‘i Ä‘a 2MB</small>
                        </div>

                        <div class="d-flex justify-content-end">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Cáº­p nháº­t thÃ´ng tin
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Change Password -->
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Äá»•i máº­t kháº©u</h5>
                </div>
                <div class="card-body">
                    <form action="{{ route('admin.profile.password') }}" method="POST">
                        @csrf
                        @method('PUT')

                        <div class="mb-3">
                            <label for="current_password" class="form-label">Máº­t kháº©u hiá»‡n táº¡i <span class="text-danger">*</span></label>
                            <input type="password" name="current_password" id="current_password" 
                                   class="form-control @error('current_password') is-invalid @enderror" required>
                            @error('current_password')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="password" class="form-label">Máº­t kháº©u má»›i <span class="text-danger">*</span></label>
                            <input type="password" name="password" id="password" 
                                   class="form-control @error('password') is-invalid @enderror" required>
                            @error('password')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                            <small class="text-muted">Tá»‘i thiá»ƒu 8 kÃ½ tá»±</small>
                        </div>

                        <div class="mb-3">
                            <label for="password_confirmation" class="form-label">XÃ¡c nháº­n máº­t kháº©u má»›i <span class="text-danger">*</span></label>
                            <input type="password" name="password_confirmation" id="password_confirmation" 
                                   class="form-control">
                        </div>

                        <div class="d-flex justify-content-end">
                            <button type="submit" class="btn btn-warning">
                                <i class="fas fa-key"></i> Äá»•i máº­t kháº©u
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection


============================================================
ğŸ“ resources\views\admin\reviews
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\admin\reviews\index.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Quáº£n lÃ½ Ä‘Ã¡nh giÃ¡')
@section('page-title', 'Quáº£n lÃ½ Ä‘Ã¡nh giÃ¡')

@push('styles')
<style>
    .filter-card {
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        margin-bottom: 20px;
        border: 1px solid #f0f0f0;
    }

    .table-card {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        overflow: hidden;
    }

    .product-thumb {
        width: 50px;
        height: 50px;
        object-fit: cover;
        border-radius: 6px;
    }

    .rating-stars {
        color: #ffc107;
        font-size: 14px;
    }
</style>
@endpush

@section('content')
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3">
    <div>
        <h1 class="h2 mb-0">Quáº£n lÃ½ Ä‘Ã¡nh giÃ¡</h1>
        <p class="text-muted small mb-0">Quáº£n lÃ½ Ä‘Ã¡nh giÃ¡ sáº£n pháº©m tá»« khÃ¡ch hÃ ng</p>
    </div>
</div>

<!-- Filters -->
<div class="filter-card">
    <form method="GET" action="{{ route('admin.reviews.index') }}">
        <div class="row g-3">
            <div class="col-md-4">
                <label class="form-label small text-muted">TÃ¬m kiáº¿m</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                    <input type="text" name="search" class="form-control"
                           placeholder="TÃªn sáº£n pháº©m, khÃ¡ch hÃ ng..." value="{{ request('search') }}">
                </div>
            </div>
            <div class="col-md-3">
                <label class="form-label small text-muted">Tráº¡ng thÃ¡i</label>
                <select name="status" class="form-select">
                    <option value="">Táº¥t cáº£</option>
                    <option value="pending" {{ request('status') == 'pending' ? 'selected' : '' }}>Chá» duyá»‡t</option>
                    <option value="approved" {{ request('status') == 'approved' ? 'selected' : '' }}>ÄÃ£ duyá»‡t</option>
                </select>
            </div>
            <div class="col-md-2 d-flex align-items-end gap-2">
                <button type="submit" class="btn btn-outline-primary flex-fill">
                    <i class="fas fa-filter"></i> Lá»c
                </button>
                <a href="{{ route('admin.reviews.index') }}" class="btn btn-outline-secondary flex-fill">
                    <i class="fas fa-redo"></i>
                </a>
            </div>
        </div>
    </form>
</div>

<!-- Reviews Table -->
<div class="table-card">
    <div class="card-body p-0">
        @if($reviews->count() > 0)
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th width="250">Sáº£n pháº©m</th>
                            <th width="200">KhÃ¡ch hÃ ng</th>
                            <th width="150" class="text-center">ÄÃ¡nh giÃ¡</th>
                            <th>Nháº­n xÃ©t</th>
                            <th width="120" class="text-center">Tráº¡ng thÃ¡i</th>
                            <th width="120">NgÃ y Ä‘Ã¡nh giÃ¡</th>
                            <th width="120" class="text-center">Thao tÃ¡c</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach($reviews as $review)
                        <tr>
                            <td>
                                <div class="d-flex align-items-center gap-2">
                                    @if($review->product->primaryImage)
                                        <img src="{{ asset($review->product->primaryImage->image_path) }}"
                                             alt="{{ $review->product->name }}"
                                             class="product-thumb">
                                    @else
                                        <div class="bg-light rounded d-flex align-items-center justify-content-center product-thumb">
                                            <i class="fas fa-image text-muted"></i>
                                        </div>
                                    @endif
                                    <div>
                                        <div class="fw-bold text-dark">{{ Str::limit($review->product->name, 35) }}</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="fw-bold text-dark">{{ $review->user->name }}</div>
                                <small class="text-muted d-block">{{ $review->user->email }}</small>
                            </td>
                            <td class="text-center">
                                <div class="rating-stars mb-1">
                                    @for($i = 1; $i <= 5; $i++)
                                        <i class="fas fa-star{{ $i <= $review->rating ? '' : '-o' }}"></i>
                                    @endfor
                                </div>
                                <small class="text-muted">({{ $review->rating }}/5)</small>
                            </td>
                            <td>
                                @if($review->comment)
                                    <p class="mb-0 text-muted">{{ Str::limit($review->comment, 80) }}</p>
                                @else
                                    <span class="text-muted fst-italic">KhÃ´ng cÃ³ nháº­n xÃ©t</span>
                                @endif
                            </td>
                            <td class="text-center">
                                <span class="badge {{ $review->status == 'approved' ? 'bg-success' : 'bg-warning text-dark' }} rounded-pill">
                                    {{ $review->status == 'approved' ? 'ÄÃ£ duyá»‡t' : 'Chá» duyá»‡t' }}
                                </span>
                            </td>
                            <td>
                                <div>{{ $review->created_at->format('d/m/Y') }}</div>
                                <small class="text-muted">{{ $review->created_at->format('H:i') }}</small>
                            </td>
                            <td class="text-center">
                                <div class="d-flex gap-1 justify-content-center">
                                    @if($review->status == 'pending')
                                        <form action="{{ route('admin.reviews.update', $review) }}" method="POST">
                                            @csrf
                                            @method('PUT')
                                            <input type="hidden" name="status" value="approved">
                                            <button type="submit"
                                                    class="btn btn-sm btn-outline-success"
                                                    title="Duyá»‡t Ä‘Ã¡nh giÃ¡"
                                                    data-bs-toggle="tooltip">
                                                <i class="fas fa-check"></i>
                                            </button>
                                        </form>
                                    @else
                                        <form action="{{ route('admin.reviews.update', $review) }}" method="POST">
                                            @csrf
                                            @method('PUT')
                                            <input type="hidden" name="status" value="pending">
                                            <button type="submit"
                                                    class="btn btn-sm btn-outline-warning"
                                                    title="Äáº·t chá» duyá»‡t"
                                                    data-bs-toggle="tooltip">
                                                <i class="fas fa-clock"></i>
                                            </button>
                                        </form>
                                    @endif
                                </div>
                            </td>
                        </tr>
                        @endforeach
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="d-flex justify-content-between align-items-center p-3 border-top">
                <div class="text-muted small">
                    Hiá»ƒn thá»‹ {{ $reviews->firstItem() }} Ä‘áº¿n {{ $reviews->lastItem() }}
                    trong tá»•ng sá»‘ {{ $reviews->total() }} Ä‘Ã¡nh giÃ¡
                </div>
                {{ $reviews->links() }}
            </div>
        @else
            <div class="text-center py-5">
                <i class="fas fa-star display-1 text-muted mb-3"></i>
                <h4 class="mt-3">ChÆ°a cÃ³ Ä‘Ã¡nh giÃ¡</h4>
                <p class="text-muted">ÄÃ¡nh giÃ¡ tá»« khÃ¡ch hÃ ng sáº½ xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢y.</p>
            </div>
        @endif
    </div>
</div>
@endsection

@push('scripts')
<script>
    // Initialize tooltips
    document.addEventListener('DOMContentLoaded', function() {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
</script>
@endpush

============================================================
ğŸ“ resources\views\admin\users
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\admin\users\create.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'ThÃªm ngÆ°á»i dÃ¹ng')
@section('page-title', 'ThÃªm ngÆ°á»i dÃ¹ng má»›i')

@section('content')
<div class="container-fluid">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">ThÃ´ng tin ngÆ°á»i dÃ¹ng</h5>
                </div>
                <div class="card-body">
                    <form action="{{ route('admin.users.store') }}" method="POST">
                        @csrf
                        
                        <div class="mb-3">
                            <label for="name" class="form-label">TÃªn <span class="text-danger">*</span></label>
                            <input type="text" name="name" id="name" class="form-control @error('name') is-invalid @enderror" value="{{ old('name') }}" required>
                            @error('name')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
                            <input type="email" name="email" id="email" class="form-control @error('email') is-invalid @enderror" value="{{ old('email') }}" required>
                            @error('email')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="password" class="form-label">Máº­t kháº©u <span class="text-danger">*</span></label>
                                <input type="password" name="password" id="password" class="form-control @error('password') is-invalid @enderror" required>
                                @error('password')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="password_confirmation" class="form-label">XÃ¡c nháº­n máº­t kháº©u <span class="text-danger">*</span></label>
                                <input type="password" name="password_confirmation" id="password_confirmation" class="form-control" required>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="phone" class="form-label">Sá»‘ Ä‘iá»‡n thoáº¡i</label>
                            <input type="text" name="phone" id="phone" class="form-control @error('phone') is-invalid @enderror" value="{{ old('phone') }}">
                            @error('phone')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="address" class="form-label">Äá»‹a chá»‰</label>
                            <textarea name="address" id="address" rows="3" class="form-control @error('address') is-invalid @enderror">{{ old('address') }}</textarea>
                            @error('address')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="role" class="form-label">Vai trÃ² <span class="text-danger">*</span></label>
                                <select name="role" id="role" class="form-select @error('role') is-invalid @enderror" required>
                                    <option value="user" {{ old('role') == 'user' ? 'selected' : '' }}>User</option>
                                    <option value="admin" {{ old('role') == 'admin' ? 'selected' : '' }}>Admin</option>
                                </select>
                                @error('role')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Tráº¡ng thÃ¡i</label>
                                <div class="form-check form-switch">
                                    <input type="checkbox" name="is_active" id="is_active" class="form-check-input" value="1" {{ old('is_active', true) ? 'checked' : '' }}>
                                    <label class="form-check-label" for="is_active">Hoáº¡t Ä‘á»™ng</label>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-between mt-4">
                            <a href="{{ route('admin.users.index') }}" class="btn btn-secondary">
                                <i class="fas fa-arrow-left"></i> Quay láº¡i
                            </a>
                            <button type="submit" class="btn btn-success">
                                <i class="fas fa-save"></i> Táº¡o ngÆ°á»i dÃ¹ng
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection


----------------------------------------
ğŸ“„ FILE: resources\views\admin\users\edit.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Chá»‰nh sá»­a ngÆ°á»i dÃ¹ng')
@section('page-title', 'Chá»‰nh sá»­a ngÆ°á»i dÃ¹ng: ' . $user->name)

@section('content')
<div class="container-fluid">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">ThÃ´ng tin ngÆ°á»i dÃ¹ng</h5>
                </div>
                <div class="card-body">
                    <form action="{{ route('admin.users.update', $user) }}" method="POST">
                        @csrf
                        @method('PUT')
                        
                        <div class="mb-3">
                            <label for="name" class="form-label">TÃªn <span class="text-danger">*</span></label>
                            <input type="text" name="name" id="name" class="form-control @error('name') is-invalid @enderror" value="{{ old('name', $user->name) }}" required>
                            @error('name')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
                            <input type="email" name="email" id="email" class="form-control @error('email') is-invalid @enderror" value="{{ old('email', $user->email) }}" required>
                            @error('email')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Äá»•i máº­t kháº©u (Ä‘á»ƒ trá»‘ng náº¿u khÃ´ng muá»‘n Ä‘á»•i)</label>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <input type="password" name="password" id="password" class="form-control @error('password') is-invalid @enderror" placeholder="Máº­t kháº©u má»›i">
                                    @error('password')
                                        <div class="invalid-feedback">{{ $message }}</div>
                                    @enderror
                                </div>
                                <div class="col-md-6 mb-3">
                                    <input type="password" name="password_confirmation" id="password_confirmation" class="form-control" placeholder="XÃ¡c nháº­n máº­t kháº©u">
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="phone" class="form-label">Sá»‘ Ä‘iá»‡n thoáº¡i</label>
                            <input type="text" name="phone" id="phone" class="form-control @error('phone') is-invalid @enderror" value="{{ old('phone', $user->phone) }}">
                            @error('phone')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="mb-3">
                            <label for="address" class="form-label">Äá»‹a chá»‰</label>
                            <textarea name="address" id="address" rows="3" class="form-control @error('address') is-invalid @enderror">{{ old('address', $user->address) }}</textarea>
                            @error('address')
                                <div class="invalid-feedback">{{ $message }}</div>
                            @enderror
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="role" class="form-label">Vai trÃ² <span class="text-danger">*</span></label>
                                <select name="role" id="role" class="form-select @error('role') is-invalid @enderror" required>
                                    <option value="user" {{ old('role', $user->role) == 'user' ? 'selected' : '' }}>User</option>
                                    <option value="admin" {{ old('role', $user->role) == 'admin' ? 'selected' : '' }}>Admin</option>
                                </select>
                                @error('role')
                                    <div class="invalid-feedback">{{ $message }}</div>
                                @enderror
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Tráº¡ng thÃ¡i</label>
                                <div class="form-check form-switch">
                                    <input type="checkbox" name="is_active" id="is_active" class="form-check-input" value="1" {{ old('is_active', $user->is_active) ? 'checked' : '' }}>
                                    <label class="form-check-label" for="is_active">Hoáº¡t Ä‘á»™ng</label>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-between mt-4">
                            <a href="{{ route('admin.users.index') }}" class="btn btn-secondary">
                                <i class="fas fa-arrow-left"></i> Quay láº¡i
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Cáº­p nháº­t
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection


----------------------------------------
ğŸ“„ FILE: resources\views\admin\users\index.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Quáº£n lÃ½ ngÆ°á»i dÃ¹ng')
@section('page-title', 'Danh sÃ¡ch ngÆ°á»i dÃ¹ng')

@section('content')
<div class="container-fluid">
    <!-- Filter & Search -->
    <div class="card mb-4">
        <div class="card-body">
            <form action="{{ route('admin.users.index') }}" method="GET">
                <div class="row g-3">
                    <div class="col-md-4">
                        <input type="text" name="search" class="form-control" placeholder="TÃ¬m kiáº¿m theo tÃªn, email, sá»‘ Ä‘iá»‡n thoáº¡i..." value="{{ request('search') }}">
                    </div>
                    <div class="col-md-3">
                        <select name="role" class="form-select">
                            <option value="">Táº¥t cáº£ vai trÃ²</option>
                            <option value="admin" {{ request('role') == 'admin' ? 'selected' : '' }}>Admin</option>
                            <option value="user" {{ request('role') == 'user' ? 'selected' : '' }}>User</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select name="status" class="form-select">
                            <option value="">Táº¥t cáº£ tráº¡ng thÃ¡i</option>
                            <option value="active" {{ request('status') == 'active' ? 'selected' : '' }}>Hoáº¡t Ä‘á»™ng</option>
                            <option value="inactive" {{ request('status') == 'inactive' ? 'selected' : '' }}>KhÃ´ng hoáº¡t Ä‘á»™ng</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fas fa-search"></i> TÃ¬m kiáº¿m
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Users Table -->
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Danh sÃ¡ch ngÆ°á»i dÃ¹ng ({{ $users->total() }})</h5>
            <a href="{{ route('admin.users.create') }}" class="btn btn-success">
                <i class="fas fa-plus"></i> ThÃªm ngÆ°á»i dÃ¹ng
            </a>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>TÃªn</th>
                            <th>Email</th>
                            <th>Sá»‘ Ä‘iá»‡n thoáº¡i</th>
                            <th>Vai trÃ²</th>
                            <th>Tráº¡ng thÃ¡i</th>
                            <th>NgÃ y táº¡o</th>
                            <th>Thao tÃ¡c</th>
                        </tr>
                    </thead>
                    <tbody>
                        @forelse($users as $user)
                        <tr>
                            <td>{{ $user->id }}</td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <img src="{{ $user->avatar_url }}" alt="{{ $user->name }}" class="rounded-circle me-2" style="width: 40px; height: 40px; object-fit: cover;">
                                    <strong>{{ $user->name }}</strong>
                                </div>
                            </td>
                            <td>{{ $user->email }}</td>
                            <td>{{ $user->phone ?? 'N/A' }}</td>
                            <td>
                                @if($user->role == 'admin')
                                    <span class="badge bg-danger">Admin</span>
                                @else
                                    <span class="badge bg-info">User</span>
                                @endif
                            </td>
                            <td>
                                @if($user->is_active)
                                    <span class="badge bg-success">Hoáº¡t Ä‘á»™ng</span>
                                @else
                                    <span class="badge bg-secondary">KhÃ´ng hoáº¡t Ä‘á»™ng</span>
                                @endif
                            </td>
                            <td>{{ $user->created_at->format('d/m/Y') }}</td>
                            <td>
                                <div class="btn-group" role="group">
                                    <a href="{{ route('admin.users.show', $user) }}" class="btn btn-sm btn-info" title="Xem">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                    <a href="{{ route('admin.users.edit', $user) }}" class="btn btn-sm btn-warning" title="Sá»­a">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <form action="{{ route('admin.users.toggle-status', $user) }}" method="POST" class="d-inline">
                                        @csrf
                                        <button type="submit" class="btn btn-sm {{ $user->is_active ? 'btn-secondary' : 'btn-success' }}" title="{{ $user->is_active ? 'KhÃ³a' : 'KÃ­ch hoáº¡t' }}">
                                            <i class="fas fa-{{ $user->is_active ? 'lock' : 'unlock' }}"></i>
                                        </button>
                                    </form>
                                    @if($user->id != auth()->id())
                                    <form action="{{ route('admin.users.destroy', $user) }}" method="POST" class="d-inline delete-form">
                                        @csrf
                                        @method('DELETE')
                                        <button type="submit" class="btn btn-sm btn-danger" title="XÃ³a">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </form>
                                    @endif
                                </div>
                            </td>
                        </tr>
                        @empty
                        <tr>
                            <td colspan="8" class="text-center py-4">
                                <i class="fas fa-users fa-3x text-muted mb-3"></i>
                                <p class="text-muted">KhÃ´ng tÃ¬m tháº¥y ngÆ°á»i dÃ¹ng nÃ o</p>
                            </td>
                        </tr>
                        @endforelse
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="mt-3">
                {{ $users->links() }}
            </div>
        </div>
    </div>
</div>
@endsection

@push('scripts')
<script>
    // Delete confirmation
    document.querySelectorAll('.delete-form').forEach(form => {
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            Swal.fire({
                title: 'XÃ¡c nháº­n xÃ³a?',
                text: "Báº¡n khÃ´ng thá»ƒ hoÃ n tÃ¡c hÃ nh Ä‘á»™ng nÃ y!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'XÃ³a',
                cancelButtonText: 'Há»§y'
            }).then((result) => {
                if (result.isConfirmed) {
                    this.submit();
                }
            });
        });
    });
</script>
@endpush


----------------------------------------
ğŸ“„ FILE: resources\views\admin\users\show.blade.php
----------------------------------------

@extends('layouts.admin')

@section('title', 'Chi tiáº¿t ngÆ°á»i dÃ¹ng')
@section('page-title', 'Chi tiáº¿t ngÆ°á»i dÃ¹ng: ' . $user->name)

@section('content')
<div class="container-fluid">
    <div class="row">
        <div class="col-md-4">
            <!-- User Profile Card -->
            <div class="card mb-4">
                <div class="card-body text-center">
                    <img src="{{ $user->avatar_url }}" alt="{{ $user->name }}" class="rounded-circle mb-3" style="width: 150px; height: 150px; object-fit: cover;">
                    <h4>{{ $user->name }}</h4>
                    <p class="text-muted">{{ $user->email }}</p>
                    
                    @if($user->role == 'admin')
                        <span class="badge bg-danger mb-3">Admin</span>
                    @else
                        <span class="badge bg-info mb-3">User</span>
                    @endif

                    @if($user->is_active)
                        <span class="badge bg-success mb-3">Hoáº¡t Ä‘á»™ng</span>
                    @else
                        <span class="badge bg-secondary mb-3">KhÃ´ng hoáº¡t Ä‘á»™ng</span>
                    @endif

                    <hr>
                    
                    <div class="d-grid gap-2">
                        <a href="{{ route('admin.users.edit', $user) }}" class="btn btn-warning">
                            <i class="fas fa-edit"></i> Chá»‰nh sá»­a
                        </a>
                        <a href="{{ route('admin.users.index') }}" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i> Quay láº¡i
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <!-- User Details Card -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">ThÃ´ng tin chi tiáº¿t</h5>
                </div>
                <div class="card-body">
                    <table class="table table-borderless">
                        <tbody>
                            <tr>
                                <th width="200">ID:</th>
                                <td>{{ $user->id }}</td>
                            </tr>
                            <tr>
                                <th>TÃªn:</th>
                                <td>{{ $user->name }}</td>
                            </tr>
                            <tr>
                                <th>Email:</th>
                                <td>{{ $user->email }}</td>
                            </tr>
                            <tr>
                                <th>Sá»‘ Ä‘iá»‡n thoáº¡i:</th>
                                <td>{{ $user->phone ?? 'N/A' }}</td>
                            </tr>
                            <tr>
                                <th>Äá»‹a chá»‰:</th>
                                <td>{{ $user->address ?? 'N/A' }}</td>
                            </tr>
                            <tr>
                                <th>Vai trÃ²:</th>
                                <td>
                                    @if($user->role == 'admin')
                                        <span class="badge bg-danger">Admin</span>
                                    @else
                                        <span class="badge bg-info">User</span>
                                    @endif
                                </td>
                            </tr>
                            <tr>
                                <th>Tráº¡ng thÃ¡i:</th>
                                <td>
                                    @if($user->is_active)
                                        <span class="badge bg-success">Hoáº¡t Ä‘á»™ng</span>
                                    @else
                                        <span class="badge bg-secondary">KhÃ´ng hoáº¡t Ä‘á»™ng</span>
                                    @endif
                                </td>
                            </tr>
                            <tr>
                                <th>Email Ä‘Ã£ xÃ¡c thá»±c:</th>
                                <td>
                                    @if($user->email_verified_at)
                                        <span class="text-success"><i class="fas fa-check-circle"></i> ÄÃ£ xÃ¡c thá»±c</span>
                                        <small class="text-muted d-block">{{ $user->email_verified_at->format('d/m/Y H:i') }}</small>
                                    @else
                                        <span class="text-warning"><i class="fas fa-exclamation-circle"></i> ChÆ°a xÃ¡c thá»±c</span>
                                    @endif
                                </td>
                            </tr>
                            <tr>
                                <th>ÄÄƒng nháº­p láº§n cuá»‘i:</th>
                                <td>{{ $user->last_login_at ? $user->last_login_at->format('d/m/Y H:i') : 'ChÆ°a Ä‘Äƒng nháº­p' }}</td>
                            </tr>
                            <tr>
                                <th>NgÃ y táº¡o:</th>
                                <td>{{ $user->created_at->format('d/m/Y H:i') }}</td>
                            </tr>
                            <tr>
                                <th>Cáº­p nháº­t láº§n cuá»‘i:</th>
                                <td>{{ $user->updated_at->format('d/m/Y H:i') }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- User Activity Card (cÃ³ thá»ƒ má»Ÿ rá»™ng sau) -->
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Hoáº¡t Ä‘á»™ng gáº§n Ä‘Ã¢y</h5>
                </div>
                <div class="card-body">
                    <p class="text-muted text-center py-4">
                        <i class="fas fa-clock fa-2x mb-3 d-block"></i>
                        Chá»©c nÄƒng Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
@endsection


============================================================
ğŸ“ resources\views\layouts
============================================================



----------------------------------------
ğŸ“„ FILE: resources\views\layouts\admin.blade.php
----------------------------------------

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@yield('title', 'Admin Dashboard') - Náº¿n ThÆ¡m</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- Custom CSS -->
    <style>
        :root {
            --sidebar-width: 260px;
            --navbar-height: 60px;
            --primary-color: #8B7355;
            --secondary-color: #D4A574;
            --sidebar-bg: #2C2416;
            --sidebar-hover: #3d3020;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            overflow-x: hidden;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: var(--sidebar-width);
            background: var(--sidebar-bg);
            z-index: 1000;
            transition: all 0.3s ease;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: #1a1410;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }

        .sidebar-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            background: rgba(0,0,0,0.2);
        }

        .sidebar-header h4 {
            color: var(--secondary-color);
            font-weight: 600;
            margin: 0;
            font-size: 20px;
        }

        .sidebar-header p {
            color: rgba(255,255,255,0.6);
            font-size: 12px;
            margin: 5px 0 0 0;
        }

        .sidebar-menu {
            padding: 20px 0;
        }

        .menu-section {
            margin-bottom: 25px;
        }

        .menu-section-title {
            color: rgba(255,255,255,0.5);
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            padding: 0 20px;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .menu-item {
            margin: 3px 10px;
        }

        .menu-item a {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .menu-item a:hover {
            background: var(--sidebar-hover);
            color: #fff;
            transform: translateX(5px);
        }

        .menu-item a.active {
            background: var(--primary-color);
            color: #fff;
            box-shadow: 0 2px 8px rgba(139, 115, 85, 0.3);
        }

        .menu-item i {
            width: 20px;
            margin-right: 12px;
            font-size: 16px;
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* Navbar */
        .top-navbar {
            background: #fff;
            height: var(--navbar-height);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 999;
            display: flex;
            align-items: center;
            padding: 0 30px;
            justify-content: space-between;
        }

        .navbar-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .page-title {
            font-size: 22px;
            font-weight: 600;
            color: #2c3e50;
            margin: 0;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-icon {
            position: relative;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #6c757d;
        }

        .nav-icon:hover {
            background: var(--primary-color);
            color: #fff;
        }

        .nav-icon .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #dc3545;
            color: #fff;
            border-radius: 10px;
            padding: 2px 6px;
            font-size: 10px;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .user-profile:hover {
            background: #f8f9fa;
        }

        .user-avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            background: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-weight: 600;
        }

        .user-info h6 {
            margin: 0;
            font-size: 14px;
            color: #2c3e50;
        }

        .user-info p {
            margin: 0;
            font-size: 12px;
            color: #6c757d;
        }

        /* Content Area */
        .content-area {
            padding: 30px;
        }

        /* Stats Cards */
        .stats-card {
            background: #fff;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border: 1px solid #f0f0f0;
            margin-bottom: 20px;
        }

        .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .stats-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .stats-icon.primary {
            background: rgba(139, 115, 85, 0.1);
            color: var(--primary-color);
        }

        .stats-icon.success {
            background: rgba(40, 167, 69, 0.1);
            color: #28a745;
        }

        .stats-icon.warning {
            background: rgba(255, 193, 7, 0.1);
            color: #ffc107;
        }

        .stats-icon.danger {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }

        .stats-number {
            font-size: 28px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stats-label {
            color: #6c757d;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .stats-change {
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stats-change.positive {
            color: #28a745;
        }

        .stats-change.negative {
            color: #dc3545;
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 9999;
        }

        .custom-toast {
            min-width: 300px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            border: none;
        }

        .custom-toast.toast-success {
            background: #28a745;
            color: #fff;
        }

        .custom-toast.toast-error {
            background: #dc3545;
            color: #fff;
        }

        .custom-toast.toast-warning {
            background: #ffc107;
            color: #000;
        }

        .custom-toast.toast-info {
            background: #17a2b8;
            color: #fff;
        }

        /* Table Styling */
        .table-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.05);
            border: 1px solid #f0f0f0;
            overflow: hidden;
        }

        .table-card .card-header {
            background: #fff;
            border-bottom: 1px solid #f0f0f0;
            padding: 20px;
        }

        .table-card .card-body {
            padding: 0;
        }

        .table-card .table {
            margin: 0;
        }

        .table-card .table th {
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            padding: 15px;
            font-weight: 600;
            color: #2c3e50;
        }

        .table-card .table td {
            padding: 15px;
            vertical-align: middle;
        }

        /* Form Styling */
        .form-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.05);
            border: 1px solid #f0f0f0;
            padding: 25px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .page-title {
                font-size: 18px;
            }

            .user-info {
                display: none;
            }

            .content-area {
                padding: 15px;
            }
        }

        /* Badge Styling */
        .badge {
            font-size: 11px;
            font-weight: 500;
            padding: 5px 10px;
        }

        /* Button Styling */
        .btn-primary {
            background: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background: #7a6347;
            border-color: #7a6347;
        }

        /* Pagination */
        .pagination .page-link {
            color: var(--primary-color);
            border: 1px solid #dee2e6;
        }

        .pagination .page-item.active .page-link {
            background: var(--primary-color);
            border-color: var(--primary-color);
        }
    </style>
    @stack('styles')
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h4><i class="fas fa-candle-holder"></i> Náº¿n ThÆ¡m</h4>
            <p>Admin Dashboard</p>
        </div>

        <div class="sidebar-menu">
            <div class="menu-section">
                <div class="menu-section-title">Dashboard</div>
                <div class="menu-item">
                    <a href="{{ route('admin.dashboard') }}" class="{{ request()->routeIs('admin.dashboard') ? 'active' : '' }}">
                        <i class="fas fa-home"></i>
                        <span>Tá»•ng quan</span>
                    </a>
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-section-title">Quáº£n lÃ½ sáº£n pháº©m</div>
                <div class="menu-item">
                    <a href="{{ route('admin.products.index') }}" class="{{ request()->routeIs('admin.products.*') ? 'active' : '' }}">
                        <i class="fas fa-box"></i>
                        <span>Danh sÃ¡ch sáº£n pháº©m</span>
                    </a>
                </div>
                <div class="menu-item">
                    <a href="{{ route('admin.categories.index') }}" class="{{ request()->routeIs('admin.categories.*') ? 'active' : '' }}">
                        <i class="fas fa-th-large"></i>
                        <span>Danh má»¥c</span>
                    </a>
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-section-title">Quáº£n lÃ½ bÃ¡n hÃ ng</div>
                <div class="menu-item">
                    <a href="{{ route('admin.orders.index') }}" class="{{ request()->routeIs('admin.orders.*') ? 'active' : '' }}">
                        <i class="fas fa-shopping-cart"></i>
                        <span>ÄÆ¡n hÃ ng</span>
                    </a>
                </div>
                <div class="menu-item">
                    <a href="{{ route('admin.reviews.index') }}" class="{{ request()->routeIs('admin.reviews.*') ? 'active' : '' }}">
                        <i class="fas fa-star"></i>
                        <span>ÄÃ¡nh giÃ¡</span>
                    </a>
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-section-title">TÃ i khoáº£n</div>
                <div class="menu-item">
                    <a href="{{ route('admin.profile.edit') }}">
                        <i class="fas fa-user-circle"></i>
                        <span>Há»“ sÆ¡</span>
                    </a>
                </div>
                <div class="menu-item">
                    <a href="{{ route('admin.users.index') }}">
                        <i class="fas fa-users"></i>
                        <span>NgÆ°á»i dÃ¹ng</span>
                    </a>
                </div>
                <div class="menu-item">
                    <form method="POST" action="{{ route('admin.logout') }}" id="logout-form">
                        @csrf
                        <a href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>ÄÄƒng xuáº¥t</span>
                        </a>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Navbar -->
        <nav class="top-navbar">
            <div class="navbar-left">
                <button class="btn btn-sm btn-outline-secondary d-md-none" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="page-title">@yield('page-title', 'Dashboard')</h1>
            </div>

            <div class="navbar-right">
                <div class="nav-icon" title="ThÃ´ng bÃ¡o">
                    <i class="fas fa-bell"></i>
                    <span class="badge">3</span>
                </div>
                <div class="user-profile">
                    <div class="user-avatar">
                        {{ strtoupper(substr(Auth::user()->name, 0, 2)) }}
                    </div>
                    <div class="user-info">
                        <h6>{{ Auth::user()->name }}</h6>
                        <p>Administrator</p>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Content Area -->
        <div class="content-area">
            @yield('content')
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <script>
        // Sidebar toggle for mobile
        document.getElementById('sidebarToggle')?.addEventListener('click', function() {
            document.getElementById('sidebar').classList.toggle('active');
        });

        // Auto-hide sidebar on mobile when clicking outside
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebarToggle');
            
            if (window.innerWidth < 768 && 
                !sidebar.contains(event.target) && 
                !sidebarToggle.contains(event.target) &&
                sidebar.classList.contains('active')) {
                sidebar.classList.remove('active');
            }
        });

        // Toast notification function using SweetAlert2
        function showToast(message, type = 'success') {
            const Toast = Swal.mixin({
                toast: true,
                position: 'top-end',
                showConfirmButton: false,
                timer: 3000,
                timerProgressBar: true,
                didOpen: (toast) => {
                    toast.addEventListener('mouseenter', Swal.stopTimer)
                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                }
            });

            Toast.fire({
                icon: type,
                title: message
            });
        }

        // Confirm delete function
        function confirmDelete(formId, message = 'Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a?') {
            event.preventDefault();

            Swal.fire({
                title: 'XÃ¡c nháº­n xÃ³a',
                text: message,
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#dc3545',
                cancelButtonColor: '#6c757d',
                confirmButtonText: 'XÃ³a',
                cancelButtonText: 'Há»§y',
                reverseButtons: true
            }).then((result) => {
                if (result.isConfirmed) {
                    document.getElementById(formId).submit();
                }
            });
        }

        // Active menu item
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname;
            document.querySelectorAll('.menu-item a').forEach(link => {
                if (link.getAttribute('href') === currentPath) {
                    link.classList.add('active');
                }
            });
        });

        // Example toast messages from Laravel session
        @if(session('success'))
            showToast("{{ session('success') }}", 'success');
        @endif

        @if(session('error'))
            showToast("{{ session('error') }}", 'error');
        @endif

        @if(session('warning'))
            showToast("{{ session('warning') }}", 'warning');
        @endif

        @if(session('info'))
            showToast("{{ session('info') }}", 'info');
        @endif

        // Auto-dismiss alerts
        setTimeout(() => {
            document.querySelectorAll('.alert').forEach(alert => {
                const bsAlert = new bootstrap.Alert(alert);
                bsAlert.close();
            });
        }, 5000);
    </script>

    @stack('scripts')
</body>
</html>

============================================================
ğŸ“ routes
============================================================



----------------------------------------
ğŸ“„ FILE: routes\api.php
----------------------------------------

<?php

use Illuminate\Support\Facades\Route;
use App\Http\Controllers\Api\AuthController;
use App\Http\Controllers\Api\ProductController;
use App\Http\Controllers\Api\CategoryController;
use App\Http\Controllers\Api\CartController;
use App\Http\Controllers\Api\OrderController;

// ===== PUBLIC ROUTES =====
Route::prefix('auth')->group(function () {
    Route::post('/register', [AuthController::class, 'register']);
    Route::post('/login', [AuthController::class, 'login']);
    Route::post('/forgot-password', [AuthController::class, 'forgotPassword']);
    Route::post('/reset-password', [AuthController::class, 'resetPassword']);
});

// Public Products & Categories
Route::get('/products', [ProductController::class, 'index']);
Route::get('/products/featured', [ProductController::class, 'featured']);
Route::get('/products/{product}', [ProductController::class, 'show']);
Route::get('/products/{product}/reviews', [ProductController::class, 'reviews']);
Route::get('/categories', [CategoryController::class, 'index']);
Route::get('/categories/{category}', [CategoryController::class, 'show']);

// Public Cart (session-based)
Route::get('/cart', [CartController::class, 'show']);
Route::post('/cart/items', [CartController::class, 'addItem']);

// ===== PROTECTED ROUTES (Cáº§n authentication) =====
Route::middleware('auth:sanctum')->group(function () {
    // Auth
    Route::prefix('auth')->group(function () {
        Route::post('/logout', [AuthController::class, 'logout']);
        Route::get('/me', [AuthController::class, 'me']);
        Route::put('/change-password', [AuthController::class, 'changePassword']);
        Route::put('/profile', [AuthController::class, 'updateProfile']);
    });

    // Cart (authenticated)
    Route::put('/cart/items/{item}', [CartController::class, 'updateItem']);
    Route::delete('/cart/items/{item}', [CartController::class, 'removeItem']);
    Route::delete('/cart', [CartController::class, 'clear']);

    // Orders
    Route::get('/orders', [OrderController::class, 'index']);
    Route::post('/orders', [OrderController::class, 'store']);
    Route::get('/orders/{order}', [OrderController::class, 'show']);

    // Reviews
    Route::post('/products/{product}/reviews', [ProductController::class, 'storeReview']);
});

----------------------------------------
ğŸ“„ FILE: routes\console.php
----------------------------------------

<?php

use Illuminate\Foundation\Inspiring;
use Illuminate\Support\Facades\Artisan;

Artisan::command('inspire', function () {
    $this->comment(Inspiring::quote());
})->purpose('Display an inspiring quote');


----------------------------------------
ğŸ“„ FILE: routes\web.php
----------------------------------------

<?php

use Illuminate\Support\Facades\Route;
use App\Http\Controllers\Admin\AuthController;
use App\Http\Controllers\Admin\DashboardController;
use App\Http\Controllers\Admin\UserController;
use App\Http\Controllers\Admin\CategoryController;
use App\Http\Controllers\Admin\ProductController;
use App\Http\Controllers\Admin\OrderController;
use App\Http\Controllers\Admin\ReviewController;
use App\Http\Controllers\Admin\ProfileController;


// Admin Routes
Route::prefix('admin')->name('admin.')->group(function () {
    
    // Guest routes (chÆ°a Ä‘Äƒng nháº­p)
    Route::middleware('guest')->group(function () {
        Route::get('/login', [AuthController::class, 'showLoginForm'])->name('login');
        Route::post('/login', [AuthController::class, 'login'])->name('login.post');
    });

    // Protected routes (cáº§n Ä‘Äƒng nháº­p vÃ  lÃ  admin)
    Route::middleware(['auth', 'admin'])->group(function () {
        
        // Logout
        Route::post('/logout', [AuthController::class, 'logout'])->name('logout');
        
        // Dashboard
        Route::get('/dashboard', [DashboardController::class, 'index'])->name('dashboard');
        
        // User Management
        Route::resource('users', UserController::class);
        Route::post('users/{user}/toggle-status', [UserController::class, 'toggleStatus'])
            ->name('users.toggle-status');
        
        // Category Management
        Route::resource('categories', CategoryController::class);
        
        // Product Management
        Route::resource('products', ProductController::class);
        Route::delete('/products/images/{image}', [ProductController::class, 'deleteImage'])
            ->name('products.images.destroy');
        Route::post('/upload-temp-image', [ProductController::class, 'uploadTempImage'])
            ->name('upload.temp.image');
        
        // Order Management
        Route::resource('orders', OrderController::class)->only(['index', 'show', 'update']);
        
        // Review Management
        Route::resource('reviews', ReviewController::class)->only(['index', 'update']);
        
        // Profile Management
        Route::get('/profile', [ProfileController::class, 'edit'])->name('profile.edit');
        Route::put('/profile', [ProfileController::class, 'update'])->name('profile.update');
        Route::put('/profile/password', [ProfileController::class, 'updatePassword'])->name('profile.password');
    });
});

// Client routes - React SPA
Route::get('/{any}', function () {
    return view('client');
})->where('any', '^(?!admin|api|storage).*$');



================================================================================
âœ… HOÃ€N THÃ€NH - ÄÃ£ xá»­ lÃ½ 60 file
================================================================================
